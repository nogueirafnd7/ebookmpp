<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>O Padrão State</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="../../assets/css/styleorg.css">
</head>

<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-light fixed-top">
        <div class="container-fluid">
            <button class="navbar-toggler me-2" type="button" id="sidebarToggle">
                <span class="navbar-toggler-icon"></span>
            </button>
            <a href="../../direcionar/comportamentais.html" class="btn btn-purple">
            <i class="bi bi-arrow-left me-2"></i>Voltar
        </a>
            <a class="navbar-brand" href="../../direcionar/comportamentais.html">Padrões Comportamentais</a>
            <button class="btn btn-outline-primary ms-auto" id="downloadPdf">
                <i class="bi bi-download"></i> Baixar PDF
            </button>
        </div>
    </nav>

    <!-- Barra de progresso -->
    <div class="progress-container">
        <div class="progress-bar" id="progressBar"></div>
    </div>

    <!-- Sidebar/Sumário -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h5>Sumário</h5>
        </div>
        <ul class="sidebar-list">
            <li><a href="#cover" class="active">Capa</a></li>
            <li><a href="#page1">O que é o Padrão State?</a></li>
            <li><a href="#page2">O que ele resolve?</a></li>
            <li><a href="#page3">Diagrama de Exemplo Genérico (UML)</a></li>
            <li><a href="#page4">Exemplo Fictício (Com Lady Gaga)</a></li>
            <li><a href="#page5">Sem o Padrão: O que Acontece?</a></li>
            <li><a href="#page6">Com o Padrão Aplicado (Pseudo Linguagem)</a></li>
            <li><a href="#page7">Exemplo Prático do Dia a Dia (Python)</a></li>
            <li><a href="#page8">Diagrama do Projeto Fictício</a></li>
            <li><a href="#page9">Diagrama do Projeto Prático</a></li>
            <li><a href="#page10">Vantagens</a></li>
            <li><a href="#page11">Desvantagens</a></li>
            <li><a href="#page12">Conclusão</a></li>
            <li><a href="#page13">Fontes Bibliográficas</a></li>
        </ul>
    </div>

    <!-- Overlay para fechar o sidebar em mobile -->
    <div class="overlay" id="overlay"></div>

    <!-- Conteúdo principal -->
    <div class="main-content">
        <!-- Capa do E-book -->
        <div class="ebook-page cover-page" id="cover">
            <h1 class="cover-title">STATE</h1>
            <p class="cover-subtitle">Dominando as transformações</p>

            <img src="../../assets/img/comportamentais/state/1.jpg" crossOrigin="anonymous" alt="Capa State" class="cover-image"
                id="coverImage">

            <div class="mt-4">
                <button class="btn btn-light" id="startReading">
                    <i class="bi bi-book"></i> Começar a Leitura
                </button>
            </div>
        </div>

        <!-- Conteúdo das Páginas -->
        <div class="ebook-page" id="page1">
            <h1>O que é o Padrão State?</h1>
            <div class="img-placeholder-2">
                <img src="../../assets/img/comportamentais/state/2.PNG" crossOrigin="anonymous" alt="State Pattern" class="cover-image">
            </div>
            <p>O Padrão State é um <strong>padrão de projeto comportamental</strong> que permite que um objeto altere seu comportamento quando seu estado interno muda. Parece que o objeto muda de classe [1]. O padrão encapsula estados em classes separadas e delega o comportamento específico do estado para essas classes, em vez de implementar comportamentos condicionais (if/else ou switch) no próprio objeto.</p>
            <p>Este padrão é particularmente útil quando um objeto precisa mudar seu comportamento em tempo de execução dependendo do seu estado, e quando você tem muitas condições que afetam o comportamento do objeto. Em vez de verificar o estado em cada operação, o objeto delega o comportamento para o objeto de estado atual.</p>

            <div class="page-navigation">
                <a href="#cover" class="btn btn-outline-primary"><i class="bi bi-arrow-up"></i> Capa</a>
                <a href="#page2" class="btn btn-primary">Próximo <i class="bi bi-arrow-right"></i></a>
            </div>
        </div>

        <div class="ebook-page" id="page2">
            <h1>O que ele resolve?</h1>
            <div class="img-placeholder-3">
                <img src="../../assets/img/comportamentais/state/3.jpg" crossOrigin="anonymous" alt="State Pattern" class="cover-image">
            </div>
            <p>O principal problema que o Padrão State resolve é a <strong>complexidade de código</strong> resultante de múltiplas condições que dependem do estado de um objeto. Sem este padrão, o código frequentemente se torna uma série interminável de declarações if-else ou switch-case que verificam o estado do objeto antes de executar qualquer comportamento.</p>
            <p>Isso leva a um código difícil de manter, estender e entender. Além disso, qualquer mudança nos estados ou comportamentos requer modificar a classe original, violando o princípio Open/Closed. O State Pattern resolve isso encapsulando cada estado em uma classe separada, permitindo que novos estados sejam adicionados sem modificar o contexto existente [2].</p>

            <div class="page-navigation">
                <a href="#page1" class="btn btn-outline-primary"><i class="bi bi-arrow-left"></i> Anterior</a>
                <a href="#page3" class="btn btn-primary">Próximo <i class="bi bi-arrow-right"></i></a>
            </div>
        </div>

        <div class="ebook-page" id="page3">
            <h1>Diagrama de Exemplo Genérico (UML)</h1>
            <div class="img-placeholder-4">
                <img src="../../assets/img/comportamentais/state/4.png" crossOrigin="anonymous" alt="State UML" class="cover-image">
            </div>
            <p>O diagrama de classes UML a seguir ilustra a estrutura fundamental do Padrão State:</p>
            <ul>
                <li><strong>Context:</strong> Mantém uma referência para um objeto State que define o estado atual. Delega solicitações de estado para o objeto State atual.</li>
                <li><strong>State (Interface):</strong> Define uma interface para encapsular o comportamento associado a um estado particular do Context.</li>
                <li><strong>ConcreteState:</strong> Implementa o comportamento associado a um estado do Context. Cada ConcreteState fornece sua própria implementação para as solicitações.</li>
            </ul>
            <p>Quando o Context recebe uma solicitação do cliente, ele a delega para o objeto State atual. O ConcreteState pode alterar o estado do Context definindo um novo State objeto.</p>

            <div class="page-navigation">
                <a href="#page2" class="btn btn-outline-primary"><i class="bi bi-arrow-left"></i> Anterior</a>
                <a href="#page4" class="btn btn-primary">Próximo <i class="bi bi-arrow-right"></i></a>
            </div>
        </div>

        <div class="ebook-page" id="page4">
            <h1>Exemplo Fictício (Com Lady Gaga)</h1>
            <div class="img-placeholder-5">
                <img src="../../assets/img/comportamentais/state/5.png" crossOrigin="anonymous" alt="Lady Gaga" class="cover-image">
            </div>
            <p>Vamos imaginar a Lady Gaga, uma artista conhecida por suas transformações musicais. Ela pode estar em diferentes estados artísticos:</p>
            <ul>
                <li><strong>Estado Pop:</strong> Quando está criando músicas pop como "Bad Romance" ou "Poker Face"</li>
                <li><strong>Estado Jazz:</strong> Quando está em sua fase jazz com Tony Bennett</li>
                <strong>Estado Experimental:</strong> Quando está explorando novos sons e performances artísticas</li>
            </ul>
            <p>Cada estado influencia como ela se apresenta, compõe e interage com o público. O padrão State permite que ela mude facilmente entre esses estados sem modificar sua essência como artista.</p>

            <div class="page-navigation">
                <a href="#page3" class="btn btn-outline-primary"><i class="bi bi-arrow-left"></i> Anterior</a>
                <a href="#page5" class="btn btn-primary">Próximo <i class="bi bi-arrow-right"></i></a>
            </div>
        </div>

        <div class="ebook-page" id="page5">
            <h1>Sem o Padrão: O que Acontece?</h1>
            <div class="img-placeholder-6">
                <img src="../../assets/img/comportamentais/state/6.jpg" crossOrigin="anonymous" alt="Complex Code" class="cover-image">
            </div>
            <p>Sem o Padrão State, o código da Lady Gaga teria que verificar constantemente em qual estado ela se encontra:</p>
            <pre><code>
class LadyGaga:
    def __init__(self):
        self.state = "POP"
    
    def perform(self):
        if self.state == "POP":
            print("Executando coreografia elaborada e cantando hits pop!")
        elif self.state == "JAZZ":
            print("Cantando standards de jazz com elegância e sofisticação!")
        elif self.state == "EXPERIMENTAL":
            print("Fazendo performance artística avant-garde!")
    
    def compose(self):
        if self.state == "POP":
            print("Compondo música pop cativante com sintetizadores!")
        elif self.state == "JAZZ":
            print("Compondo jazz com piano e seção rítmica!")
        elif self.state == "EXPERIMENTAL":
            print("Criando sons experimentais e texturas inovadoras!")
    
    def change_state(self, new_state):
        self.state = new_state
            </code></pre>
            <p>Este código se torna difícil de manter à medida que novos estados são adicionados, violando o princípio Open/Closed.</p>

            <div class="page-navigation">
                <a href="#page4" class="btn btn-outline-primary"><i class="bi bi-arrow-left"></i> Anterior</a>
                <a href="#page6" class="btn btn-primary">Próximo <i class="bi bi-arrow-right"></i></a>
            </div>
        </div>

        <div class="ebook-page" id="page6">
            <h1>Com o Padrão Aplicado (Pseudo Linguagem)</h1>
            <div class="img-placeholder-7">
                <img src="../../assets/img/comportamentais/state/7.jpg" crossOrigin="anonymous" alt="State Applied" class="cover-image">
            </div>
            <p>Aplicando o Padrão State, encapsulamos cada estado em sua própria classe:</p>
            <pre><code>
// Interface State
interface ArtisticState {
    void perform();
    void compose();
}

// Estados Concretos
class PopState implements ArtisticState {
    public void perform() {
        print("Executando coreografia elaborada e cantando hits pop!");
    }
    
    public void compose() {
        print("Compondo música pop cativante com sintetizadores!");
    }
}

class JazzState implements ArtisticState {
    public void perform() {
        print("Cantando standards de jazz com elegância e sofisticação!");
    }
    
    public void compose() {
        print("Compondo jazz com piano e seção rítmica!");
    }
}

class ExperimentalState implements ArtisticState {
    public void perform() {
        print("Fazendo performance artística avant-garde!");
    }
    
    public void compose() {
        print("Criando sons experimentais e texturas inovadoras!");
    }
}

// Context
class LadyGaga {
    private ArtisticState currentState;
    
    public LadyGaga() {
        this.currentState = new PopState(); // Estado inicial
    }
    
    public void setState(ArtisticState state) {
        this.currentState = state;
    }
    
    public void perform() {
        currentState.perform();
    }
    
    public void compose() {
        currentState.compose();
    }
}
            </code></pre>

            <div class="page-navigation">
                <a href="#page5" class="btn btn-outline-primary"><i class="bi bi-arrow-left"></i> Anterior</a>
                <a href="#page7" class="btn btn-primary">Próximo <i class="bi bi-arrow-right"></i></a>
            </div>
        </div>

        <div class="ebook-page" id="page7">
            <h1>Exemplo Prático do Dia a Dia (Python)</h1>
            <div class="img-placeholder-8">
                <img src="../../assets/img/comportamentais/state/8.jpg" crossOrigin="anonymous" alt="Python Example" class="cover-image">
            </div>
            <p>Um exemplo prático do Padrão State é um sistema de reprodutor de música que muda de comportamento dependendo do seu estado (tocando, pausado, parado):</p>
            <pre><code>
from abc import ABC, abstractmethod

class State(ABC):
    @abstractmethod
    def play(self, player):
        pass
    
    @abstractmethod
    def pause(self, player):
        pass
    
    @abstractmethod
    def stop(self, player):
        pass

class PlayingState(State):
    def play(self, player):
        print("Já está tocando!")
    
    def pause(self, player):
        print("Pausando a música...")
        player.state = PausedState()
    
    def stop(self, player):
        print("Parando a música...")
        player.state = StoppedState()

class PausedState(State):
    def play(self, player):
        print("Retomando a música...")
        player.state = PlayingState()
    
    def pause(self, player):
        print("Já está pausado!")
    
    def stop(self, player):
        print("Parando a música...")
        player.state = StoppedState()

class StoppedState(State):
    def play(self, player):
        print("Iniciando reprodução...")
        player.state = PlayingState()
    
    def pause(self, player):
        print("Não é possível pausar, a música está parada!")
    
    def stop(self, player):
        print("Já está parado!")

class MusicPlayer:
    def __init__(self):
        self.state = StoppedState()
    
    def play(self):
        self.state.play(self)
    
    def pause(self):
        self.state.pause(self)
    
    def stop(self):
        self.state.stop(self)

# Uso do sistema
player = MusicPlayer()
player.play()   # Iniciando reprodução...
player.pause()  # Pausando a música...
player.play()   # Retomando a música...
player.stop()   # Parando a música...
            </code></pre>

            <div class="page-navigation">
                <a href="#page6" class="btn btn-outline-primary"><i class="bi bi-arrow-left"></i> Anterior</a>
                <a href="#page8" class="btn btn-primary">Próximo <i class="bi bi-arrow-right"></i></a>
            </div>
        </div>

        <div class="ebook-page" id="page8">
            <h1>Diagrama do Projeto Fictício</h1>
            <div class="img-placeholder-9">
                <img src="../../assets/img/comportamentais/state/9.png" crossOrigin="anonymous" alt="Lady Gaga UML" class="cover-image">
            </div>
            <p>Este diagrama UML detalha a aplicação do Padrão State no nosso exemplo fictício da Lady Gaga:</p>
            <ul>
                <li>A classe <code>LadyGaga</code> é o Context, que mantém uma referência para o estado atual.</li>
                <li>A interface <code>ArtisticState</code> define os métodos que todos os estados devem implementar.</li>
                <li>Classes concretas como <code>PopState</code>, <code>JazzState</code> e <code>ExperimentalState</code> implementam o comportamento específico de cada estado artístico.</li>
            </ul>
            <p>A seta tracejada com ponta de flecha aberta indica que as classes de estado concretas implementam a interface <code>ArtisticState</code>. A seta sólida de <code>LadyGaga</code> para <code>ArtisticState</code> mostra que o Context mantém uma referência para o estado atual.</p>

            <div class="page-navigation">
                <a href="#page7" class="btn btn-outline-primary"><i class="bi bi-arrow-left"></i> Anterior</a>
                <a href="#page9" class="btn btn-primary">Próximo <i class="bi bi-arrow-right"></i></a>
            </div>
        </div>

        <div class="ebook-page" id="page9">
            <h1>Diagrama do Projeto Prático</h1>
            <div class="img-placeholder-10">
                <img src="../../assets/img/comportamentais/state/10.png" crossOrigin="anonymous" alt="Music Player UML" class="cover-image">
            </div>
            <p>Este diagrama UML mostra a aplicação do Padrão State no exemplo prático do reprodutor de música:</p>
            <ul>
                <li>A classe <code>MusicPlayer</code> é o Context, que delega as operações para o estado atual.</li>
                <li>A interface <code>State</code> define os métodos <code>play()</code>, <code>pause()</code> e <code>stop()</code>.</li>
                <li>As classes <code>PlayingState</code>, <code>PausedState</code> e <code>StoppedState</code> implementam o comportamento específico para cada estado do reprodutor.</li>
            </ul>
            <p>Esta estrutura permite que o reprodutor mude seu comportamento dinamicamente conforme seu estado muda, sem a necessidade de verificações condicionais complexas.</p>

            <div class="page-navigation">
                <a href="#page8" class="btn btn-outline-primary"><i class="bi bi-arrow-left"></i> Anterior</a>
                <a href="#page10" class="btn btn-primary">Próximo <i class="bi bi-arrow-right"></i></a>
            </div>
        </div>

        <div class="ebook-page" id="page10">
            <h1>Vantagens</h1>
            <div class="img-placeholder-11">
                <img src="../../assets/img/comportamentais/state/11.png" crossOrigin="anonymous" alt="Advantages" class="cover-image">
            </div>
            <p>O Padrão State oferece várias vantagens significativas:</p>
            <ul>
                <li><strong>Organização do Código:</strong> Separa o comportamento relacionado a diferentes estados em classes distintas, tornando o código mais organizado e fácil de entender.</li>
                <li><strong>Elimina Condições Complexas:</strong> Remove a necessidade de longas declarações if-else ou switch-case que verificam o estado do objeto.</li>
                <strong>Facilita a Adição de Novos Estados:</strong> Novos estados podem ser adicionados criando novas classes sem modificar o Context ou estados existentes, seguindo o princípio Open/Closed.</li>
                <li><strong>Comportamento Específico por Estado:</strong> Cada estado pode ter seu próprio comportamento e transições, encapsulando a lógica específica do estado.</li>
                <li><strong>Melhora a Manutenibilidade:</strong> Torna o código mais fácil de manter e estender, pois as mudanças em um estado afetam apenas sua classe correspondente.</li>
            </ul>

            <div class="page-navigation">
                <a href="#page9" class="btn btn-outline-primary"><i class="bi bi-arrow-left"></i> Anterior</a>
                <a href="#page11" class="btn btn-primary">Próximo <i class="bi bi-arrow-right"></i></a>
            </div>
        </div>

        <div class="ebook-page" id="page11">
            <h1>Desvantagens</h1>
            <div class="img-placeholder-12">
                <img src="../../assets/img/comportamentais/state/12.jpg" crossOrigin="anonymous" alt="Disadvantages" class="cover-image">
            </div>
            <p>O Padrão State também apresenta algumas desvantagens:</p>
            <ul>
                <li><strong>Sobrecarga de Classes:</strong> Pode resultar em um grande número de classes pequenas, especialmente se o objeto tem muitos estados, o que pode aumentar a complexidade do sistema.</li>
                <li><strong>Complexidade para Estados Simples:</strong> Para objetos com poucos estados ou comportamentos simples, o padrão pode ser excessivo e adicionar complexidade desnecessária.</li>
                <li><strong>Transições entre Estados:</strong> Se as transições entre estados são complexas ou dependem de muitos fatores, gerenciá-las pode se tornar complicado.</li>
                <li><strong>Acoplamento entre Estados:</strong> Em algumas implementações, os estados concretos podem precisar conhecer outros estados para fazer transições, criando acoplamento entre eles.</li>
            </ul>

            <div class="page-navigation">
                <a href="#page10" class="btn btn-outline-primary"><i class="bi bi-arrow-left"></i> Anterior</a>
                <a href="#page12" class="btn btn-primary">Próximo <i class="bi bi-arrow-right"></i></a>
            </div>
        </div>

        <div class="ebook-page" id="page12">
            <h1>Conclusão</h1>
            <div class="img-placeholder-13">
                <img src="../../assets/img/comportamentais/state/13.png" crossOrigin="anonymous" alt="Conclusion" class="cover-image">
            </div>
            <p>O Padrão State é uma ferramenta poderosa para gerenciar o comportamento de objetos que mudam de estado. Ele é particularmente útil quando um objeto precisa alterar seu comportamento em tempo de execução e quando você tem múltiplos estados com comportamentos distintos.</p>
            <p>Ao encapsular cada estado em uma classe separada, o padrão promove um código mais limpo, organizado e fácil de manter. Ele elimina a necessidade de condicionais complexas e facilita a adição de novos estados no futuro.</p>
            <p>No entanto, como todo padrão de projeto, é importante avaliar se o State Pattern é a solução adequada para o problema em questão. Para sistemas com poucos estados ou comportamentos simples, uma implementação mais direta pode ser mais apropriada.</p>

            <div class="page-navigation">
                <a href="#page11" class="btn btn-outline-primary"><i class="bi bi-arrow-left"></i> Anterior</a>
                <a href="#page13" class="btn btn-primary">Próximo <i class="bi bi-arrow-right"></i></a>
            </div>
        </div>

        <div class="ebook-page" id="page13">
            <h1>Fontes Bibliográficas</h1>
            <p>As informações contidas neste e-book foram compiladas a partir das seguintes fontes:</p>
            <ul class="reference-list">
                <li>[1] <a href="https://refactoring.guru/pt-br/design-patterns/state" target="_blank">Refactoring.Guru - Padrão de Projeto State</a></li>
                <li>[2] <a href="https://www.devmedia.com.br/padrao-de-projeto-state/16761" target="_blank">DevMedia - Padrão de Projeto State</a></li>
                <li>[3] <a href="https://brizeno.wordpress.com/2011/10/25/mao-na-massa-state/" target="_blank">Mão na Massa - Padrão State</a></li>
                <li>[4] <a href="https://pt.wikipedia.org/wiki/State" target="_blank">Wikipédia - State (padrão de projeto)</a></li>
                <li>[5] <a href="https://www.geeksforgeeks.org/state-design-pattern/" target="_blank">GeeksforGeeks - State Design Pattern</a></li>
                <li>[6] <a href="https://sourcemaking.com/design_patterns/state" target="_blank">SourceMaking - State Pattern</a></li>
            </ul>
            <p><i>Nota: As referências foram adaptadas para o contexto deste e-book.</i></p>

            <div class="page-navigation">
                <a href="#page12" class="btn btn-outline-primary"><i class="bi bi-arrow-left"></i> Anterior</a>
                <a href="#cover" class="btn btn-primary"><i class="bi bi-house"></i> Início</a>
            </div>
        </div>
    </div>

    <!-- Botão de voltar ao topo -->
    <a href="#" class="back-to-top" id="backToTop">
        <i class="bi bi-arrow-up"></i>
    </a>

    <!-- Bootstrap JS e Popper.js -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>

    <!-- html2pdf para geração de PDF -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script src="../assets/js/mainorg.js"></script>
</body>

</html>