<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>O Padr√£o Factory Method - A Composi√ß√£o √çntima de Fiona Apple</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="../../assets/css/stylecri.css">
</head>

<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-light fixed-top">
        <div class="container-fluid">
            <button class="navbar-toggler me-2" type="button" id="sidebarToggle">
                <span class="navbar-toggler-icon"></span>
            </button>
            <a href="../../direcionar/criacionais.html" class="btn btn-purple">
                <i class="bi bi-arrow-left me-2"></i>Voltar
            </a>
            <a class="navbar-brand" href="../../direcionar/criacionais.html">Padr√µes Criacionais</a>
        </div>
    </nav>

    <!-- Barra de progresso -->
    <div class="progress-container">
        <div class="progress-bar" id="progressBar"></div>
    </div>

    <!-- Sidebar/Sum√°rio -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h5>Sum√°rio</h5>
        </div>
        <ul class="sidebar-list">
            <li><a href="#cover" class="active">Capa</a></li>
            <li><a href="#page1">O que √© o Padr√£o Factory Method?</a></li>
            <li><a href="#page2">O que ele resolve?</a></li>
            <li><a href="#page3">Diagrama Gen√©rico (UML)</a></li>
            <li><a href="#page4">Exemplo Fict√≠cio (A M√∫sica de Fiona Apple)</a></li>
            <li><a href="#page5">Sem o Padr√£o: O que Acontece?</a></li>
            <li><a href="#page6">Com o Padr√£o Aplicado (Pseudo Linguagem)</a></li>
            <li><a href="#page7">Exemplo Pr√°tico do Dia a Dia (Python)</a></li>
            <li><a href="#page8">Diagrama do Projeto Fict√≠cio</a></li>
            <li><a href="#page9">Diagrama do Projeto Pr√°tico</a></li>
            <li><a href="#page10">Vantagens</a></li>
            <li><a href="#page11">Desvantagens</a></li>
            <li><a href="#page12">Conclus√£o</a></li>
            <li><a href="#page13">Fontes Bibliogr√°ficas</a></li>
        </ul>
    </div>

    <!-- Overlay para fechar o sidebar em mobile -->
    <div class="overlay" id="overlay"></div>

    <!-- Conte√∫do principal -->
    <div class="main-content">
        <!-- Capa do E-book -->
        <div class="ebook-page cover-page" id="cover">
            <h1 class="cover-title">FACTORY METHOD</h1>
            <p class="cover-subtitle">A Composi√ß√£o √çntima de Fiona Apple - Criando Emo√ß√µes Musicais</p>

            <img src="https://media.pitchfork.com/photos/592c6461eb335119a49f19de/16:9/w_1280,c_limit/e6d2a9cb.jpg"
                alt="Capa Factory Method - Fiona Apple" class="cover-image" id="coverImage">

            <div class="mt-4">
                <button class="btn btn-light" id="startReading">
                    <i class="bi bi-book"></i> Come√ßar a Leitura
                </button>
            </div>
        </div>

        <!-- Conte√∫do das P√°ginas -->
        <div class="ebook-page" id="page1">
            <h1>O que √© o Padr√£o Factory Method?</h1>
            <div class="img-placeholder-2">
                <img src="https://media.gq.com/photos/5e9621e63eac2600085a7e42/4:3/w_3067,h_2300,c_limit/gq-april-2020-how-to-get-into-fiona-apple.jpg"
                    alt="Factory Method Pattern" class="cover-image">
            </div>
            <p>O Padr√£o Factory Method √© um <strong>padr√£o de projeto criacional</strong> que fornece uma interface para criar objetos em uma superclasse, mas permite que as subclasses alterem o tipo de objetos que ser√£o criados [1].</p>
            <p>√â como a <strong>Fiona Apple compondo diferentes tipos de m√∫sicas</strong> - cada √°lbum tem seu pr√≥prio processo criativo, mas todos seguem a ess√™ncia √∫nica da artista, adaptando-se √†s diferentes fases emocionais e art√≠sticas.</p>

            <div class="page-navigation">
                <a href="#cover" class="btn btn-outline-primary"><i class="bi bi-arrow-up"></i> Capa</a>
                <a href="#page2" class="btn btn-primary">Pr√≥ximo <i class="bi bi-arrow-right"></i></a>
            </div>
        </div>

        <div class="ebook-page" id="page2">
            <h1>O que ele resolve?</h1>
            <div class="img-placeholder-3">
                <img src="https://i.redd.it/attempted-to-upscale-some-of-my-favorite-old-fiona-photos-v0-5rwcg1s1vfob1.jpg?width=2608&format=pjpg&auto=webp&s=ede079de2b0be9c6f29e5777d139763262887173"
                    alt="Problema da Cria√ß√£o de Objetos" class="cover-image">
            </div>
            <p>O principal problema que o Padr√£o Factory Method resolve √© o <strong>acoplamento direto entre o c√≥digo cliente e classes concretas</strong> espec√≠ficas.</p>
            <p>Sem este padr√£o, o c√≥digo ficaria dependente de implementa√ß√µes espec√≠ficas - como ter que conhecer todos os detalhes de produ√ß√£o de cada m√∫sica da Fiona Apple [2].</p>

            <div class="page-navigation">
                <a href="#page1" class="btn btn-outline-primary"><i class="bi bi-arrow-left"></i> Anterior</a>
                <a href="#page3" class="btn btn-primary">Pr√≥ximo <i class="bi bi-arrow-right"></i></a>
            </div>
        </div>

        <div class="ebook-page" id="page3">
            <h1>Diagrama de Exemplo Gen√©rico (UML)</h1>
            <div class="img-placeholder-4">
                <img src="../../assets/img/criacionais/factory-method/generico.png"
                    alt="Factory Method UML Gen√©rico" class="cover-image">
            </div>
            <p>O diagrama de classes UML a seguir ilustra a estrutura fundamental do Padr√£o Factory Method:</p>
            <pre class="uml-code">
@startuml
class Creator {
    + someOperation(): void
    + createProduct(): Product
}

class ConcreteCreatorA {
    + createProduct(): ProductA
}

class ConcreteCreatorB {
    + createProduct(): ProductB
}

interface Product {
    + operation(): string
}

class ProductA {
    + operation(): string
}

class ProductB {
    + operation(): string
}

Creator <|-- ConcreteCreatorA
Creator <|-- ConcreteCreatorB
Product <|-- ProductA
Product <|-- ProductB
ConcreteCreatorA --> ProductA
ConcreteCreatorB --> ProductB
@enduml
            </pre>
            <ul>
                <li><strong>Creator:</strong> Classe abstrata que declara o factory method</li>
                <li><strong>ConcreteCreator:</strong> Implementa√ß√µes que criam produtos espec√≠ficos</li>
                <li><strong>Product:</strong> Interface comum para todos os produtos</li>
                <li><strong>ConcreteProduct:</strong> Implementa√ß√µes espec√≠ficas dos produtos</li>
            </ul>

            <div class="page-navigation">
                <a href="#page2" class="btn btn-outline-primary"><i class="bi bi-arrow-left"></i> Anterior</a>
                <a href="#page4" class="btn btn-primary">Pr√≥ximo <i class="bi bi-arrow-right"></i></a>
            </div>
        </div>

        <div class="ebook-page" id="page4">
            <h1>Exemplo Fict√≠cio (A M√∫sica de Fiona Apple)</h1>
            <div class="img-placeholder-5">
                <img src="../../assets/img/criacionais/factory-method/fiona.png"
                    alt="Fiona Apple Albums" class="cover-image">
            </div>
            <p>Imagine que <strong>Fiona Apple</strong> cria diferentes tipos de composi√ß√µes musicais baseadas em suas fases art√≠sticas:</p>

            <h3>As Fases Composicionais de Fiona Apple:</h3>
            <ul>
                <li><strong>Fase "Tidal" (1996):</strong> Piano-driven, jazz influences, letras confessionais</li>
                <li><strong>Fase "When the Pawn..." (1999):</strong> Orquestral complexo, arranjos elaborados</li>
                <li><strong>Fase "Extraordinary Machine" (2005):</strong> Experimental, percussivo √∫nico</li>
                <li><strong>Fase "The Idler Wheel..." (2012):</strong> Minimalista, sons org√¢nicos</li>
                <li><strong>Fase "Fetch the Bolt Cutters" (2020):</strong> Percuss√£o caseira, produ√ß√£o DIY</li>
            </ul>

            <p>O Factory Method permite que cada fase tenha seu pr√≥prio processo criativo, mantendo a ess√™ncia da artista.</p>

            <div class="page-navigation">
                <a href="#page3" class="btn btn-outline-primary"><i class="bi bi-arrow-left"></i> Anterior</a>
                <a href="#page5" class="btn btn-primary">Pr√≥ximo <i class="bi bi-arrow-right"></i></a>
            </div>
        </div>

        <div class="ebook-page" id="page5">
            <h1>Sem o Padr√£o: O que Acontece?</h1>
            <div class="img-placeholder-6">
                <img src="https://imgix.bustle.com/nylon/18444463/origin.png?w=414&h=259&fit=crop&crop=faces&dpr=2"
                    alt="Fiona Apple Performance" class="cover-image">
            </div>
            <p>Sem o Padr√£o Factory Method, criar composi√ß√µes espec√≠ficas seria r√≠gido e acoplado:</p>
            <pre><code>
// PROBLEMA: Acoplamento direto com classes concretas!
class SistemaDeComposicao {
    criarComposicao(tipo: string): Composicao {
        if (tipo === "tidal") {
            return new ComposicaoTidal(); // Acoplamento direto
        } else if (tipo === "idlerwheel") {
            return new ComposicaoIdlerWheel(); // Acoplamento direto
        } else if (tipo === "bolcutters") {
            return new ComposicaoBoltCutters(); // Acoplamento direto
        }
        throw new Error("Tipo n√£o suportado");
    }
}

// Uso problem√°tico:
const sistema = new SistemaDeComposicao();

// Cliente precisa conhecer todas as classes concretas
const musica1 = sistema.criarComposicao("tidal");
const musica2 = sistema.criarComposicao("idlerwheel");
const musica3 = sistema.criarComposicao("bolcutters");

// PROBLEMAS:
// 1. Acoplamento forte com classes concretas
// 2. Dificuldade para adicionar novos tipos
// 3. C√≥digo cliente precisa conhecer detalhes de implementa√ß√£o
// 4. Viola√ß√£o do princ√≠pio aberto/fechado
            </code></pre>
            <p>Acoplamento direto dificulta a manuten√ß√£o e extens√£o do c√≥digo!</p>

            <div class="page-navigation">
                <a href="#page4" class="btn btn-outline-primary"><i class="bi bi-arrow-left"></i> Anterior</a>
                <a href="#page6" class="btn btn-primary">Pr√≥ximo <i class="bi bi-arrow-right"></i></a>
            </div>
        </div>

        <div class="ebook-page" id="page6">
            <h1>Com o Padr√£o Aplicado (Pseudo Linguagem)</h1>
            <div class="img-placeholder-7">
                <img src="https://conteudo.imguol.com.br/c/entretenimento/b1/2020/06/15/fiona-apple-lancou-fetch-the-bolt-cutters-em-abril-deste-ano-1592261247231_v2_900x506.jpg"
                    alt="Factory Method Fiona Apple" class="cover-image">
            </div>
            <p>Aplicando o Padr√£o Factory Method, criamos composi√ß√µes de forma flex√≠vel e desacoplada:</p>
            <pre><code>
// Product Interface
interface ComposicaoMusical {
    compor(): string
    produzir(): string
    getEstilo(): string
}

// Concrete Products
class ComposicaoTidal implements ComposicaoMusical {
    compor(): string {
        return "Compondo m√∫sica com influ√™ncias de jazz e piano melanc√≥lico"
    }
    
    produzir(): string {
        return "Produ√ß√£o limpa com √™nfase em piano e vocais crus"
    }
    
    getEstilo(): string {
        return "Jazz-influenced piano pop confessional"
    }
}

class ComposicaoWhenThePawn implements ComposicaoMusical {
    compor(): string {
        return "Criando arranjos orquestrais complexos e letras po√©ticas"
    }
    
    produzir(): string {
        return "Produ√ß√£o elaborada com m√∫ltiplas camadas instrumentais"
    }
    
    getEstilo(): string {
        return "Orquestral complexo com letras elaboradas"
    }
}

class ComposicaoIdlerWheel implements ComposicaoMusical {
    compor(): string {
        return "Compondo com sons org√¢nicos e minimalismo instrumental"
    }
    
    produzir(): string {
        return "Produ√ß√£o crua com √™nfase em percuss√£o org√¢nica"
    }
    
    getEstilo(): string {
        return "Minimalista com sons org√¢nicos e percuss√£o √∫nica"
    }
}

class ComposicaoBoltCutters implements ComposicaoMusical {
    compor(): string {
        return "Criando com percuss√£o caseira e produ√ß√£o DIY"
    }
    
    produzir(): string {
        return "Produ√ß√£o caseira com grava√ß√µes ambientais e percuss√£o improvisada"
    }
    
    getEstilo(): string {
        return "Percuss√£o caseira DIY com letras autobiogr√°ficas"
    }
}

// Creator Abstract Class
abstract class CriadorDeComposicao {
    // Factory Method abstrato
    abstract criarComposicao(): ComposicaoMusical
    
    // Opera√ß√£o comum que usa o factory method
    criarObraMusical(): string {
        const composicao = this.criarComposicao()
        return `
Processo de Cria√ß√£o:
1. Composi√ß√£o: ${composicao.compor()}
2. Produ√ß√£o: ${composicao.produzir()}
3. Estilo: ${composicao.getEstilo()}
        `.trim()
    }
}

// Concrete Creators
class CriadorTidal extends CriadorDeComposicao {
    criarComposicao(): ComposicaoMusical {
        return new ComposicaoTidal()
    }
}

class CriadorWhenThePawn extends CriadorDeComposicao {
    criarComposicao(): ComposicaoMusical {
        return new ComposicaoWhenThePawn()
    }
}

class CriadorIdlerWheel extends CriadorDeComposicao {
    criarComposicao(): ComposicaoMusical {
        return new ComposicaoIdlerWheel()
    }
}

class CriadorBoltCutters extends CriadorDeComposicao {
    criarComposicao(): ComposicaoMusical {
        return new ComposicaoBoltCutters()
    }
}

// Client Code
class EstudioGravacao {
    static produzirAlbum(criador: CriadorDeComposicao): string {
        console.log("üéµ Iniciando produ√ß√£o de √°lbum...")
        return criador.criarObraMusical()
    }
    
    static produzirDiscografia(): string[] {
        const discografia: string[] = []
        
        const criadores = [
            new CriadorTidal(),
            new CriadorWhenThePawn(),
            new CriadorIdlerWheel(),
            new CriadorBoltCutters()
        ]
        
        criadores.forEach((criador, index) => {
            console.log(`\n=== √ÅLBUM ${index + 1} ===`)
            const album = this.produzirAlbum(criador)
            discografia.push(album)
        })
        
        return discografia
    }
}

// Uso do sistema
console.log("=== DISCOGRAFIA FIONA APPLE ===")
const discografia = EstudioGravacao.produzirDiscografia()

// Demonstra√ß√£o de uso individual
console.log("\n=== DEMONSTRA√á√ÉO INDIVIDUAL ===")
const criadorBoltCutters = new CriadorBoltCutters()
const musicaBoltCutters = criadorBoltCutters.criarComposicao()
console.log("M√∫sica Bolt Cutters:", musicaBoltCutters.compor())
            </code></pre>

            <div class="page-navigation">
                <a href="#page5" class="btn btn-outline-primary"><i class="bi bi-arrow-left"></i> Anterior</a>
                <a href="#page7" class="btn btn-primary">Pr√≥ximo <i class="bi bi-arrow-right"></i></a>
            </div>
        </div>

        <div class="ebook-page" id="page7">
            <h1>Exemplo Pr√°tico do Dia a Dia (Python)</h1>
            <div class="img-placeholder-8">
                <img src="https://4kwallpapers.com/images/wallpapers/python-logo-dark-3440x1440-16094.png" alt="Python Example"
                    class="cover-image">
            </div>
            <p>Um exemplo pr√°tico do Padr√£o Factory Method em um sistema de processamento de documentos:</p>
            <pre><code>
from abc import ABC, abstractmethod
from datetime import datetime
from typing import List, Dict, Any
import json

# Product Interface
class DocumentProcessor(ABC):
    @abstractmethod
    def process(self, content: str) -> Dict[str, Any]:
        pass
    
    @abstractmethod
    def validate(self, content: str) -> bool:
        pass
    
    @abstractmethod
    def get_metadata(self) -> Dict[str, Any]:
        pass

# Concrete Products
class JSONProcessor(DocumentProcessor):
    def process(self, content: str) -> Dict[str, Any]:
        try:
            data = json.loads(content)
            return {
                "type": "JSON",
                "data": data,
                "size": len(content),
                "processed_at": datetime.now().isoformat(),
                "structure": self._analyze_structure(data)
            }
        except json.JSONDecodeError as e:
            return {
                "type": "JSON",
                "error": str(e),
                "processed_at": datetime.now().isoformat()
            }
    
    def validate(self, content: str) -> bool:
        try:
            json.loads(content)
            return True
        except json.JSONDecodeError:
            return False
    
    def get_metadata(self) -> Dict[str, Any]:
        return {
            "format": "JSON",
            "mime_type": "application/json",
            "extensions": [".json", ".jsonl"],
            "supports_nesting": True
        }
    
    def _analyze_structure(self, data: Any) -> Dict[str, Any]:
        if isinstance(data, dict):
            return {
                "type": "object",
                "keys": list(data.keys()),
                "key_count": len(data),
                "sample_values": {k: type(v).__name__ for k, v in list(data.items())[:3]}
            }
        elif isinstance(data, list):
            return {
                "type": "array",
                "length": len(data),
                "sample_types": [type(item).__name__ for item in data[:3]] if data else []
            }
        else:
            return {"type": type(data).__name__}

class XMLProcessor(DocumentProcessor):
    def process(self, content: str) -> Dict[str, Any]:
        # Simula√ß√£o de processamento XML
        return {
            "type": "XML",
            "size": len(content),
            "processed_at": datetime.now().isoformat(),
            "root_element": self._extract_root_element(content),
            "encoding": "UTF-8",
            "elements_count": content.count('<') // 2
        }
    
    def validate(self, content: str) -> bool:
        # Valida√ß√£o b√°sica de XML
        return content.strip().startswith('<?xml') and content.count('<') > 0
    
    def get_metadata(self) -> Dict[str, Any]:
        return {
            "format": "XML",
            "mime_type": "application/xml",
            "extensions": [".xml", ".xsd", ".xsl"],
            "supports_attributes": True
        }
    
    def _extract_root_element(self, content: str) -> str:
        lines = content.strip().split('\n')
        for line in lines:
            if line.startswith('<?xml'):
                continue
            if line.startswith('<') and not line.startswith('</'):
                return line.split(' ')[0].replace('<', '')
        return "unknown"

class CSVProcessor(DocumentProcessor):
    def process(self, content: str) -> Dict[str, Any]:
        lines = content.strip().split('\n')
        headers = lines[0].split(',') if lines else []
        
        return {
            "type": "CSV",
            "size": len(content),
            "processed_at": datetime.now().isoformat(),
            "headers": headers,
            "row_count": len(lines) - 1 if len(lines) > 1 else 0,
            "column_count": len(headers),
            "sample_data": lines[:3] if lines else []
        }
    
    def validate(self, content: str) -> bool:
        lines = content.strip().split('\n')
        if not lines:
            return False
        
        # Verifica se h√° pelo menos um header e uma linha de dados
        return len(lines) >= 1 and ',' in lines[0]
    
    def get_metadata(self) -> Dict[str, Any]:
        return {
            "format": "CSV",
            "mime_type": "text/csv",
            "extensions": [".csv", ".tsv"],
            "delimiter": ","
        }

class TextProcessor(DocumentProcessor):
    def process(self, content: str) -> Dict[str, Any]:
        words = content.split()
        sentences = content.split('.')
        
        return {
            "type": "Text",
            "size": len(content),
            "processed_at": datetime.now().isoformat(),
            "word_count": len(words),
            "sentence_count": len([s for s in sentences if s.strip()]),
            "character_count": len(content),
            "average_word_length": sum(len(word) for word in words) / len(words) if words else 0,
            "language_analysis": self._analyze_language(content)
        }
    
    def validate(self, content: str) -> bool:
        return bool(content.strip())
    
    def get_metadata(self) -> Dict[str, Any]:
        return {
            "format": "Plain Text",
            "mime_type": "text/plain",
            "extensions": [".txt", ".md", ".rst"],
            "encoding": "UTF-8"
        }
    
    def _analyze_language(self, content: str) -> Dict[str, Any]:
        # An√°lise b√°sica de linguagem
        words = content.lower().split()
        common_words = {'the', 'be', 'to', 'of', 'and', 'a', 'in', 'that', 'have', 'i'}
        found_common = [word for word in words if word in common_words]
        
        return {
            "common_words_found": len(found_common),
            "unique_words": len(set(words)),
            "readability_score": min(100, max(0, len(words) // 10))
        }

# Creator Abstract Class
class DocumentProcessorFactory(ABC):
    @abstractmethod
    def create_processor(self) -> DocumentProcessor:
        pass
    
    def process_document(self, content: str) -> Dict[str, Any]:
        processor = self.create_processor()
        
        if not processor.validate(content):
            return {
                "error": "Document validation failed",
                "processor": processor.get_metadata()["format"],
                "processed_at": datetime.now().isoformat()
            }
        
        result = processor.process(content)
        result["metadata"] = processor.get_metadata()
        return result

# Concrete Creators
class JSONProcessorFactory(DocumentProcessorFactory):
    def create_processor(self) -> DocumentProcessor:
        return JSONProcessor()

class XMLProcessorFactory(DocumentProcessorFactory):
    def create_processor(self) -> DocumentProcessor:
        return XMLProcessor()

class CSVProcessorFactory(DocumentProcessorFactory):
    def create_processor(self) -> DocumentProcessor:
        return CSVProcessor()

class TextProcessorFactory(DocumentProcessorFactory):
    def create_processor(self) -> DocumentProcessor:
        return TextProcessor()

# Client Code
class DocumentProcessingService:
    def __init__(self):
        self._factories = {
            'json': JSONProcessorFactory(),
            'xml': XMLProcessorFactory(),
            'csv': CSVProcessorFactory(),
            'text': TextProcessorFactory()
        }
    
    def process_document(self, doc_type: str, content: str) -> Dict[str, Any]:
        if doc_type not in self._factories:
            return {
                "error": f"Unsupported document type: {doc_type}",
                "supported_types": list(self._factories.keys()),
                "processed_at": datetime.now().isoformat()
            }
        
        factory = self._factories[doc_type]
        return factory.process_document(content)
    
    def batch_process(self, documents: List[Dict[str, str]]) -> List[Dict[str, Any]]:
        results = []
        
        for doc in documents:
            print(f"Processing {doc.get('type', 'unknown')} document...")
            result = self.process_document(doc['type'], doc['content'])
            results.append(result)
        
        return results
    
    def get_supported_formats(self) -> List[Dict[str, Any]]:
        formats = []
        for factory in self._factories.values():
            processor = factory.create_processor()
            formats.append(processor.get_metadata())
        return formats

# Example usage
def main():
    service = DocumentProcessingService()
    
    # Documentos de exemplo
    sample_documents = [
        {
            "type": "json",
            "content": '{"name": "Fiona Apple", "albums": ["Tidal", "When the Pawn"], "year": 1996}'
        },
        {
            "type": "xml",
            "content": '<?xml version="1.0"?><artist><name>Fiona Apple</name><album>Tidal</album></artist>'
        },
        {
            "type": "csv",
            "content": "name,album,year\nFiona Apple,Tidal,1996\nFiona Apple,When the Pawn,1999"
        },
        {
            "type": "text",
            "content": "Fiona Apple is an American singer-songwriter and pianist. Her music incorporates elements of alternative rock, jazz, and art pop."
        }
    ]
    
    print("=== DOCUMENT PROCESSING SERVICE ===")
    print("\nSupported Formats:")
    formats = service.get_supported_formats()
    for fmt in formats:
        print(f"- {fmt['format']} ({', '.join(fmt['extensions'])})")
    
    print("\n=== PROCESSING DOCUMENTS ===")
    results = service.batch_process(sample_documents)
    
    for i, result in enumerate(results):
        print(f"\n--- Document {i+1} Result ---")
        if 'error' in result:
            print(f"Error: {result['error']}")
        else:
            print(f"Type: {result['type']}")
            print(f"Size: {result['size']} bytes")
            print(f"Processed: {result['processed_at']}")
            if 'metadata' in result:
                print(f"Format: {result['metadata']['format']}")

if __name__ == "__main__":
    main()
            </code></pre>

            <div class="page-navigation">
                <a href="#page6" class="btn btn-outline-primary"><i class="bi bi-arrow-left"></i> Anterior</a>
                <a href="#page8" class="btn btn-primary">Pr√≥ximo <i class="bi bi-arrow-right"></i></a>
            </div>
        </div>

        <div class="ebook-page" id="page8">
            <h1>Diagrama do Projeto Fict√≠cio</h1>
            <div class="img-placeholder-9">
                <img src="../../assets/img/criacionais/factory-method/ficticio.png" alt="Fiona Apple Factory Method UML"
                    class="cover-image" style="scale:1.1;">
            </div>
            <p>Este diagrama UML detalha a aplica√ß√£o do Padr√£o Factory Method no nosso exemplo da Fiona Apple:</p>
            <pre class="uml-code">
@startuml
interface ComposicaoMusical {
    + compor(): string
    + produzir(): string
    + getEstilo(): string
}

class ComposicaoTidal {
    + compor(): string
    + produzir(): string
    + getEstilo(): string
}

class ComposicaoWhenThePawn {
    + compor(): string
    + produzir(): string
    + getEstilo(): string
}

class ComposicaoIdlerWheel {
    + compor(): string
    + produzir(): string
    + getEstilo(): string
}

class ComposicaoBoltCutters {
    + compor(): string
    + produzir(): string
    + getEstilo(): string
}

abstract class CriadorDeComposicao {
    + criarObraMusical(): string
    + {abstract} criarComposicao(): ComposicaoMusical
}

class CriadorTidal {
    + criarComposicao(): ComposicaoMusical
}

class CriadorWhenThePawn {
    + criarComposicao(): ComposicaoMusical
}

class CriadorIdlerWheel {
    + criarComposicao(): ComposicaoMusical
}

class CriadorBoltCutters {
    + criarComposicao(): ComposicaoMusical
}

class EstudioGravacao {
    + produzirAlbum(criador: CriadorDeComposicao): string
    + produzirDiscografia(): string[]
}

ComposicaoMusical <|-- ComposicaoTidal
ComposicaoMusical <|-- ComposicaoWhenThePawn
ComposicaoMusical <|-- ComposicaoIdlerWheel
ComposicaoMusical <|-- ComposicaoBoltCutters

CriadorDeComposicao <|-- CriadorTidal
CriadorDeComposicao <|-- CriadorWhenThePawn
CriadorDeComposicao <|-- CriadorIdlerWheel
CriadorDeComposicao <|-- CriadorBoltCutters

CriadorTidal --> ComposicaoTidal
CriadorWhenThePawn --> ComposicaoWhenThePawn
CriadorIdlerWheel --> ComposicaoIdlerWheel
CriadorBoltCutters --> ComposicaoBoltCutters

EstudioGravacao --> CriadorDeComposicao

note right of CriadorDeComposicao::criarComposicao
    Factory Method abstrato que
    as subclasses devem implementar
    para criar produtos espec√≠ficos
end note
@enduml
            </pre>
            <p>O diagrama mostra como cada criador concreto implementa o factory method para criar composi√ß√µes espec√≠ficas.</p>

            <div class="page-navigation">
                <a href="#page7" class="btn btn-outline-primary"><i class="bi bi-arrow-left"></i> Anterior</a>
                <a href="#page9" class="btn btn-primary">Pr√≥ximo <i class="bi bi-arrow-right"></i></a>
            </div>
        </div>

        <div class="ebook-page" id="page9">
            <h1>Diagrama do Projeto Pr√°tico</h1>
            <div class="img-placeholder-10">
                <img src="../../assets/img/criacionais/factory-method/pratico.png" alt="Document Processor UML"
                    class="cover-image" style="scale:1.1">
            </div>
            <p>Este diagrama UML mostra a aplica√ß√£o do Padr√£o Factory Method no exemplo pr√°tico do sistema de processamento de documentos:</p>
            <pre class="uml-code">
@startuml
interface DocumentProcessor {
    + process(content: str): Dict[str, Any]
    + validate(content: str): bool
    + get_metadata(): Dict[str, Any]
}

class JSONProcessor {
    + process(content: str): Dict[str, Any]
    + validate(content: str): bool
    + get_metadata(): Dict[str, Any]
    - _analyze_structure(data: Any): Dict[str, Any]
}

class XMLProcessor {
    + process(content: str): Dict[str, Any]
    + validate(content: str): bool
    + get_metadata(): Dict[str, Any]
    - _extract_root_element(content: str): str
}

class CSVProcessor {
    + process(content: str): Dict[str, Any]
    + validate(content: str): bool
    + get_metadata(): Dict[str, Any]
}

class TextProcessor {
    + process(content: str): Dict[str, Any]
    + validate(content: str): bool
    + get_metadata(): Dict[str, Any]
    - _analyze_language(content: str): Dict[str, Any]
}

abstract class DocumentProcessorFactory {
    + {abstract} create_processor(): DocumentProcessor
    + process_document(content: str): Dict[str, Any]
}

class JSONProcessorFactory {
    + create_processor(): DocumentProcessor
}

class XMLProcessorFactory {
    + create_processor(): DocumentProcessor
}

class CSVProcessorFactory {
    + create_processor(): DocumentProcessor
}

class TextProcessorFactory {
    + create_processor(): DocumentProcessor
}

class DocumentProcessingService {
    - _factories: Dict[str, DocumentProcessorFactory]
    + process_document(doc_type: str, content: str): Dict[str, Any]
    + batch_process(documents: List[Dict[str, str]]): List[Dict[str, Any]]
    + get_supported_formats(): List[Dict[str, Any]]
}

DocumentProcessor <|-- JSONProcessor
DocumentProcessor <|-- XMLProcessor
DocumentProcessor <|-- CSVProcessor
DocumentProcessor <|-- TextProcessor

DocumentProcessorFactory <|-- JSONProcessorFactory
DocumentProcessorFactory <|-- XMLProcessorFactory
DocumentProcessorFactory <|-- CSVProcessorFactory
DocumentProcessorFactory <|-- TextProcessorFactory

JSONProcessorFactory --> JSONProcessor
XMLProcessorFactory --> XMLProcessor
CSVProcessorFactory --> CSVProcessor
TextProcessorFactory --> TextProcessor

DocumentProcessingService --> DocumentProcessorFactory

note right of DocumentProcessorFactory::create_processor
    Factory Method que delega
    a cria√ß√£o espec√≠fica para
    as subclasses concretas
end note
@enduml
            </pre>
            <p>Esta estrutura permite adicionar novos tipos de processadores sem modificar o c√≥digo existente.</p>

            <div class="page-navigation">
                <a href="#page8" class="btn btn-outline-primary"><i class="bi bi-arrow-left"></i> Anterior</a>
                <a href="#page10" class="btn btn-primary">Pr√≥ximo <i class="bi bi-arrow-right"></i></a>
            </div>
        </div>

        <div class="ebook-page" id="page10">
            <h1>Vantagens</h1>
            <div class="img-placeholder-11">
                <img src="https://preview.redd.it/happy-25th-anniversary-to-when-the-pawn-whats-your-favorite-v0-7jygce1zyuzd1.jpg?width=640&crop=smart&auto=webp&s=7fafcddd152bb6ddbc091746b16321b0f155926c"
                    alt="Advantages" class="cover-image">
            </div>
            <p>O Padr√£o Factory Method oferece v√°rias vantagens significativas:</p>
            <ul>
                <li><strong>Baixo Acoplamento:</strong> Cliente n√£o conhece classes concretas espec√≠ficas</li>
                <li><strong>Princ√≠pio Aberto/Fechado:</strong> F√°cil adicionar novos tipos de produtos</li>
                <li><strong>Single Responsibility:</strong> Cria√ß√£o concentrada em um √∫nico lugar</li>
                <li><strong>Flexibilidade:</strong> Subclasses decidem quais objetos criar</li>
                <li><strong>Reusabilidade:</strong> C√≥digo cliente funciona com qualquer criador concreto</li>
            </ul>

            <div class="page-navigation">
                <a href="#page9" class="btn btn-outline-primary"><i class="bi bi-arrow-left"></i> Anterior</a>
                <a href="#page11" class="btn btn-primary">Pr√≥ximo <i class="bi bi-arrow-right"></i></a>
            </div>
        </div>

        <div class="ebook-page" id="page11">
            <h1>Desvantagens</h1>
            <div class="img-placeholder-12">
                <img src="https://media.newyorker.com/photos/5e6c2f090d121d00087dbc91/master/pass/200323_r36038.jpg"
                    alt="Disadvantages" class="cover-image">
            </div>
            <p>O Padr√£o Factory Method tamb√©m apresenta algumas desvantagens:</p>
            <ul>
                <li><strong>Complexidade:</strong> Pode introduzir muitas classes no c√≥digo</li>
                <li><strong>Over-engineering:</strong> Pode ser complexo demais para casos simples</li>
                <li><strong>Heran√ßa Obrigat√≥ria:</strong> Requer criar subclasses para novos produtos</li>
                <li><strong>Dificuldade de Teste:</strong> Testar classes abstratas pode ser complexo</li>
                <li><strong>Acoplamento de Hierarquia:</strong> Produtos e criadores ficam acoplados</li>
            </ul>

            <div class="page-navigation">
                <a href="#page10" class="btn btn-outline-primary"><i class="bi bi-arrow-left"></i> Anterior</a>
                <a href="#page12" class="btn btn-primary">Pr√≥ximo <i class="bi bi-arrow-right"></i></a>
            </div>
        </div>

        <div class="ebook-page" id="page12">
            <h1>Conclus√£o</h1>
            <div class="img-placeholder-13">
                <img src="https://e.snmc.io/i/1200/s/61215478e6403ba775c1088647b6476b/9883516"
                    alt="Conclusion" class="cover-image">
            </div>
            <p>O Padr√£o Factory Method √© uma ferramenta elegante para delegar a cria√ß√£o de objetos para subclasses, promovendo baixo acoplamento e alta coes√£o no c√≥digo.</p>
            <p>Na nossa analogia da Fiona Apple, o Factory Method funciona como o <strong>processo evolutivo de composi√ß√£o musical</strong> - permitindo que cada fase art√≠stica tenha seu pr√≥prio m√©todo criativo √∫nico, enquanto mant√©m a ess√™ncia e autenticidade que definem a artista.</p>
            <p>Assim como Fiona Apple evoluiu do piano jazz de "Tidal" para a percuss√£o experimental de "Fetch the Bolt Cutters", o padr√£o Factory Method nos permite evoluir nosso c√≥digo, adaptando-se a novos requisitos sem quebrar o que j√° funciona.</p>

            <div class="page-navigation">
                <a href="#page11" class="btn btn-outline-primary"><i class="bi bi-arrow-left"></i> Anterior</a>
                <a href="#page13" class="btn btn-primary">Pr√≥ximo <i class="bi bi-arrow-right"></i></a>
            </div>
        </div>

        <div class="ebook-page" id="page13">
            <h1>Fontes Bibliogr√°ficas</h1>
            <p>As informa√ß√µes contidas neste e-book foram compiladas a partir das seguintes fontes:</p>
            <ul class="reference-list">
                <li>[1] <a href="https://refactoring.guru/pt-br/design-patterns/factory-method"
                        target="_blank">Refactoring.Guru - Padr√£o de Projeto Factory Method</a></li>
                <li>[2] <a href="https://www.devmedia.com.br/padrao-de-projeto-factory-method/26348"
                        target="_blank">DevMedia - Padr√£o de Projeto Factory Method</a></li>
                <li>[3] <a href="https://brizeno.wordpress.com/2011/09/18/mao-na-massa-factory-method/"
                        target="_blank">M√£o na Massa - Padr√£o Factory Method</a></li>
                <li>[4] <a href="https://pt.wikipedia.org/wiki/Factory_Method" target="_blank">Wikip√©dia - Factory Method (padr√£o de projeto)</a></li>
                <li>[5] <a href="https://www.geeksforgeeks.org/factory-method-design-pattern/" target="_blank">GeeksforGeeks
                        - Factory Method Design Pattern</a></li>
                <li>[6] <a href="https://sourcemaking.com/design_patterns/factory_method" target="_blank">SourceMaking
                        - Factory Method Pattern</a></li>
            </ul>
            <p><i>Nota: As refer√™ncias foram adaptadas para o contexto deste e-book.</i></p>

            <div class="page-navigation">
                <a href="#page12" class="btn btn-outline-primary"><i class="bi bi-arrow-left"></i> Anterior</a>
                <a href="#cover" class="btn btn-primary"><i class="bi bi-house"></i> In√≠cio</a>
            </div>
        </div>
    </div>

    <!-- Bot√£o de voltar ao topo -->
    <a href="#" class="back-to-top" id="backToTop">
        <i class="bi bi-arrow-up"></i>
    </a>

    <script>
        // Script para controle do sidebar no mobile
        document.addEventListener('DOMContentLoaded', function () {
            const sidebarToggle = document.getElementById('sidebarToggle');
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('overlay');
            const sidebarLinks = document.querySelectorAll('.sidebar-list a');

            // Fun√ß√£o para abrir o sidebar
            function openSidebar() {
                sidebar.classList.add('show');
                overlay.classList.add('show');
                document.body.style.overflow = 'hidden';
            }

            // Fun√ß√£o para fechar o sidebar
            function closeSidebar() {
                sidebar.classList.remove('show');
                overlay.classList.remove('show');
                document.body.style.overflow = '';
            }

            // Abrir sidebar ao clicar no bot√£o hamburguer
            sidebarToggle.addEventListener('click', function (e) {
                e.stopPropagation();
                openSidebar();
            });

            // Fechar sidebar ao clicar no overlay
            overlay.addEventListener('click', function () {
                closeSidebar();
            });

            // Fechar sidebar ao clicar em um link (mobile)
            sidebarLinks.forEach(link => {
                link.addEventListener('click', function () {
                    if (window.innerWidth <= 991) {
                        closeSidebar();
                    }
                });
            });

            // Fechar sidebar ao pressionar a tecla ESC
            document.addEventListener('keydown', function (e) {
                if (e.key === 'Escape') {
                    closeSidebar();
                }
            });

            // Fechar sidebar ao redimensionar a janela para desktop
            window.addEventListener('resize', function () {
                if (window.innerWidth > 991) {
                    closeSidebar();
                }
            });
        });
    </script>
    <!-- Bootstrap JS e Popper.js -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>

</body>

</html>