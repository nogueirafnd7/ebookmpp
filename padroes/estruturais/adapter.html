<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>O Padr√£o Adapter - A Adapta√ß√£o Musical de Avril Lavigne</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="../../assets/css/stylestr.css">
</head>

<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-light fixed-top">
        <div class="container-fluid">
            <button class="navbar-toggler me-2" type="button" id="sidebarToggle">
                <span class="navbar-toggler-icon"></span>
            </button>
            <a href="../../direcionar/estruturais.html" class="btn btn-purple">
                <i class="bi bi-arrow-left me-2"></i>Voltar
            </a>
            <a class="navbar-brand" href="../../direcionar/estruturais.html">Padr√µes Estruturais</a>
        </div>
    </nav>

    <!-- Barra de progresso -->
    <div class="progress-container">
        <div class="progress-bar" id="progressBar"></div>
    </div>

    <!-- Sidebar/Sum√°rio -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h5>Sum√°rio</h5>
        </div>
        <ul class="sidebar-list">
            <li><a href="#cover" class="active">Capa</a></li>
            <li><a href="#page1">O que √© o Padr√£o Adapter?</a></li>
            <li><a href="#page2">O que ele resolve?</a></li>
            <li><a href="#page3">Diagrama Gen√©rico (UML)</a></li>
            <li><a href="#page4">Conceitos: Target vs Adaptee</a></li>
            <li><a href="#page5">Exemplo Fict√≠cio (A Evolu√ß√£o de Avril Lavigne)</a></li>
            <li><a href="#page6">Sem o Padr√£o: O que Acontece?</a></li>
            <li><a href="#page7">Com o Padr√£o Aplicado (Pseudo Linguagem)</a></li>
            <li><a href="#page8">Exemplo Pr√°tico do Dia a Dia (Python)</a></li>
            <li><a href="#page9">Diagrama do Projeto Fict√≠cio</a></li>
            <li><a href="#page10">Diagrama do Projeto Pr√°tico</a></li>
            <li><a href="#page11">Vantagens</a></li>
            <li><a href="#page12">Desvantagens</a></li>
            <li><a href="#page13">Conclus√£o</a></li>
            <li><a href="#page14">Fontes Bibliogr√°ficas</a></li>
        </ul>
    </div>

    <!-- Overlay para fechar o sidebar em mobile -->
    <div class="overlay" id="overlay"></div>

    <!-- Conte√∫do principal -->
    <div class="main-content">
        <!-- Capa do E-book -->
        <div class="ebook-page cover-page" id="cover">
            <h1 class="cover-title">ADAPTER</h1>
            <p class="cover-subtitle">A Adapta√ß√£o Musical de Avril Lavigne - Conectando Interfaces Incompat√≠veis</p>

            <img src="https://wp.ufpel.edu.br/empauta/files/2022/06/IMAGEM-1-AVRIL-LAVIGNE.jpeg"
                alt="Capa Adapter - Avril Lavigne" class="cover-image" id="coverImage">

            <div class="mt-4">
                <button class="btn btn-light" id="startReading">
                    <i class="bi bi-book"></i> Come√ßar a Leitura
                </button>
            </div>
        </div>

        <!-- Conte√∫do das P√°ginas -->
        <div class="ebook-page" id="page1">
            <h1>O que √© o Padr√£o Adapter?</h1>
            <div class="img-placeholder-2">
                <img src="https://portalpopline.com.br/wp-content/uploads/2021/09/Avril-Lavigne.jpg"
                    alt="Adapter Pattern" class="cover-image">
            </div>
            <p>O Padr√£o Adapter √© um <strong>padr√£o de projeto estrutural</strong> que permite que objetos com interfaces incompat√≠veis trabalhem juntos. Ele atua como um tradutor entre duas interfaces, convertendo a interface de uma classe em outra interface esperada pelos clientes [1].</p>
            <p>√â como a <strong>evolu√ß√£o musical de Avril Lavigne</strong> - onde seu estilo punk-rock inicial precisou se adaptar √†s mudan√ßas da ind√∫stria musical, mantendo sua ess√™ncia enquanto se conectava com novos p√∫blicos e tend√™ncias.</p>

            <div class="page-navigation">
                <a href="#cover" class="btn btn-outline-primary"><i class="bi bi-arrow-up"></i> Capa</a>
                <a href="#page2" class="btn btn-primary">Pr√≥ximo <i class="bi bi-arrow-right"></i></a>
            </div>
        </div>

        <div class="ebook-page" id="page2">
            <h1>O que ele resolve?</h1>
            <div class="img-placeholder-3">
                <img src="https://i.ytimg.com/vi/Py0KMhyT6Bw/maxresdefault.jpg"
                    alt="Problema das Interfaces Incompat√≠veis" class="cover-image">
            </div>
            <p>O principal problema que o Padr√£o Adapter resolve √© a <strong>incompatibilidade entre interfaces</strong> quando voc√™ precisa integrar sistemas, bibliotecas ou componentes que n√£o foram projetados para trabalhar juntos.</p>
            <p>Sem este padr√£o, seria necess√°rio modificar o c√≥digo existente (violando o princ√≠pio aberto/fechado) ou criar solu√ß√µes complexas e fr√°geis - como tentar fazer a Avril Lavigne dos anos 2000 se encaixar diretamente no cen√°rio musical atual sem adapta√ß√µes [2].</p>

            <div class="page-navigation">
                <a href="#page1" class="btn btn-outline-primary"><i class="bi bi-arrow-left"></i> Anterior</a>
                <a href="#page3" class="btn btn-primary">Pr√≥ximo <i class="bi bi-arrow-right"></i></a>
            </div>
        </div>

        <div class="ebook-page" id="page3">
            <h1>Diagrama de Exemplo Gen√©rico (UML)</h1>
            <div class="img-placeholder-4">
                <img src="../../assets/img/estruturais/adapter/generico.png"
                    alt="Adapter UML Gen√©rico" class="cover-image">
            </div>
            <p>O diagrama de classes UML a seguir ilustra a estrutura fundamental do Padr√£o Adapter:</p>
            <pre class="uml-code">
@startuml
class Client {
    + request(): void
}

interface Target {
    + request(): void
}

class Adapter {
    - adaptee: Adaptee
    + request(): void
}

class Adaptee {
    + specificRequest(): void
}

Client --> Target
Adapter --> Target
Adapter --> Adaptee

note right of Target
    Interface que o cliente
    espera e conhece
end note

note right of Adaptee
    Interface existente que
    precisa ser adaptada
end note

note right of Adapter
    Faz a tradu√ß√£o entre
    Target e Adaptee
end note
@enduml
            </pre>
            <ul>
                <li><strong>Client:</strong> Classe que precisa usar a interface Target</li>
                <li><strong>Target:</strong> Interface que o cliente espera</li>
                <li><strong>Adaptee:</strong> Interface existente que precisa ser adaptada</li>
                <li><strong>Adapter:</strong> Faz a tradu√ß√£o entre Target e Adaptee</li>
            </ul>

            <div class="page-navigation">
                <a href="#page2" class="btn btn-outline-primary"><i class="bi bi-arrow-left"></i> Anterior</a>
                <a href="#page4" class="btn btn-primary">Pr√≥ximo <i class="bi bi-arrow-right"></i></a>
            </div>
        </div>

        <div class="ebook-page" id="page4">
            <h1>Conceitos: Target vs Adaptee</h1>
            <div class="img-placeholder-5">
                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/4e/Adapter_pattern.png/500px-Adapter_pattern.png"
                    alt="Target vs Adaptee" class="cover-image">
            </div>
            
            <h3>Target (Alvo)</h3>
            <p><strong>Caracter√≠sticas:</strong> Interface que o cliente conhece e espera usar</p>
            <p><strong>Exemplo Avril Lavigne:</strong></p>
            <ul>
                <li>Sistema de streaming moderno</li>
                <li>Plataforma de redes sociais</li>
                <li>Produ√ß√£o musical atual</li>
                <li>P√∫blico contempor√¢neo</li>
                <li>Tend√™ncias atuais da ind√∫stria</li>
            </ul>

            <h3>Adaptee (Adaptado)</h3>
            <p><strong>Caracter√≠sticas:</strong> Interface existente que precisa ser integrada</p>
            <p><strong>Exemplo Avril Lavigne:</strong></p>
            <ul>
                <li>Estilo punk-rock dos anos 2000</li>
                <li>M√∫sicas do √°lbum "Let Go"</li>
                <li>Produ√ß√£o musical da √©poca</li>
                <li>P√∫blico adolescente da era</li>
                <li>Estrat√©gias de marketing antigas</li>
            </ul>

            <div class="alert alert-info">
                <strong>üí° Princ√≠pio da Adapta√ß√£o:</strong> O Adapter permite que o Adaptee funcione no contexto do Target sem modificar nenhum dos dois.
            </div>

            <div class="page-navigation">
                <a href="#page3" class="btn btn-outline-primary"><i class="bi bi-arrow-left"></i> Anterior</a>
                <a href="#page5" class="btn btn-primary">Pr√≥ximo <i class="bi bi-arrow-right"></i></a>
            </div>
        </div>

        <div class="ebook-page" id="page5">
            <h1>Exemplo Fict√≠cio (A Evolu√ß√£o de Avril Lavigne)</h1>
            <div class="img-placeholder-6">
                <img src="https://f.i.uol.com.br/fotografia/2024/09/26/172734575466f5345a03af4_1727345754_3x2_md.jpg"
                    alt="Avril Lavigne Evolution" class="cover-image">
            </div>
            <p>Imagine a <strong>evolu√ß√£o da carreira de Avril Lavigne</strong> usando o padr√£o Adapter para conectar suas diferentes fases musicais:</p>

            <h3>Linha do Tempo Musical:</h3>
            <ul>
                <li><strong>Era "Let Go" (2002)</strong> (Adaptee)
                    <ul>
                        <li>Estilo: Punk-rock adolescente</li>
                        <li>Hit: "Complicated"</li>
                        <li>P√∫blico: Adolescentes</li>
                        <li>Produ√ß√£o: Guitarras distorcidas</li>
                    </ul>
                </li>
                <li><strong>Era "The Best Damn Thing" (2007)</strong> (Adaptee)
                    <ul>
                        <li>Estilo: Pop-punk mais comercial</li>
                        <li>Hit: "Girlfriend"</li>
                        <li>P√∫blico: Jovens adultos</li>
                        <li>Produ√ß√£o: Mais polida</li>
                    </ul>
                </li>
                <li><strong>Era "Head Above Water" (2019)</strong> (Target)
                    <ul>
                        <li>Estilo: Pop adulto contempor√¢neo</li>
                        <li>Hit: "Head Above Water"</li>
                        <li>P√∫blico: Adultos</li>
                        <li>Produ√ß√£o: Orquestral e emocional</li>
                    </ul>
                </li>
            </ul>

            <p>O Adapter permite que m√∫sicas e estilos de diferentes eras sejam apresentados de forma coesa no cen√°rio musical atual.</p>

            <div class="page-navigation">
                <a href="#page4" class="btn btn-outline-primary"><i class="bi bi-arrow-left"></i> Anterior</a>
                <a href="#page6" class="btn btn-primary">Pr√≥ximo <i class="bi bi-arrow-right"></i></a>
            </div>
        </div>

        <div class="ebook-page" id="page6">
            <h1>Sem o Padr√£o: O que Acontece?</h1>
            <div class="img-placeholder-7">
                <img src="https://ucsfm.com.br/wp-content/uploads/2024/05/avril-lavigne-e1715688491183.jpg"
                    alt="Problema sem Adapter" class="cover-image">
            </div>
            <p>Sem o Padr√£o Adapter, integrar diferentes fases musicais seria problem√°tico:</p>
            <pre><code>
// PROBLEMA: Interfaces incompat√≠veis!
class MusicaAntiga2002 {
    constructor(public titulo: string, public estilo: string) {}
    
    tocarNoCD(): void {  // M√©todo espec√≠fico da era
        console.log(`üéµ Tocando no CD player: ${this.titulo}`)
        console.log(`üé∏ Estilo: ${this.estilo} (era 2002)`)
    }
    
    promoverNaMTV(): void {  // M√©todo espec√≠fico da era
        console.log(`üì∫ Promovendo na MTV: ${this.titulo}`)
    }
}

class MusicaAntiga2007 {
    constructor(public titulo: string, public estilo: string) {}
    
    tocarNoMP3(): void {  // M√©todo espec√≠fico da era
        console.log(`üéµ Tocando no MP3 player: ${this.titulo}`)
        console.log(`üé§ Estilo: ${this.estilo} (era 2007)`)
    }
    
    promoverNoMyspace(): void {  // M√©todo espec√≠fico da era
        console.log(`üíª Promovendo no MySpace: ${this.titulo}`)
    }
}

class SistemaStreamingModerno {
    // Sistema moderno espera uma interface espec√≠fica
    reproduzirNoSpotify(musica: any): void {
        // VERIFICA√á√ïES COMPLEXAS E FR√ÅGEIS!
        if (musica.tocarNoCD) {
            console.log("üîÑ Convertendo para streaming...")
            musica.tocarNoCD()
        } else if (musica.tocarNoMP3) {
            console.log("üîÑ Convertendo para streaming...")
            musica.tocarNoMP3()
        } else if (musica.reproduzirStreaming) {
            musica.reproduzirStreaming()
        } else {
            throw new Error("Formato de m√∫sica n√£o suportado!")
        }
    }
    
    promoverNasRedesSociais(musica: any): void {
        // MAIS VERIFICA√á√ïES!
        if (musica.promoverNaMTV) {
            console.log("üîÑ Adaptando para redes sociais...")
            musica.promoverNaMTV()
        } else if (musica.promoverNoMyspace) {
            console.log("üîÑ Adaptando para redes sociais...")
            musica.promoverNoMyspace()
        } else if (musica.promoverInstagram) {
            musica.promoverInstagram()
        } else {
            throw new Error("M√©todo de promo√ß√£o n√£o suportado!")
        }
    }
}

// CEN√ÅRIO PROBLEM√ÅTICO:
const complicated = new MusicaAntiga2002("Complicated", "Punk-Rock")
const girlfriend = new MusicaAntiga2007("Girlfriend", "Pop-Punk")

const spotify = new SistemaStreamingModerno()

// PROBLEMAS:
// 1. Verifica√ß√µes de tipo constantes
// 2. C√≥digo complexo e dif√≠cil de manter
// 3. Viola√ß√£o do princ√≠pio aberto/fechado
// 4. Dificuldade de adicionar novas eras musicais
// 5. Acoplamento forte com implementa√ß√µes espec√≠ficas

// Tentativa de uso:
try {
    spotify.reproduzirNoSpotify(complicated)  // ‚úÖ Funciona com adapta√ß√£o manual
    spotify.reproduzirNoSpotify(girlfriend)   // ‚úÖ Funciona com adapta√ß√£o manual
} catch (error) {
    console.error("‚ùå Erro:", error.message)
}

// E se quisermos adicionar uma m√∫sica de 2019?
// Ter√≠amos que modificar o SistemaStreamingModerno!
            </code></pre>
            <p>Sem Adapter, o c√≥digo fica cheio de verifica√ß√µes e √© dif√≠cil de manter!</p>

            <div class="page-navigation">
                <a href="#page5" class="btn btn-outline-primary"><i class="bi bi-arrow-left"></i> Anterior</a>
                <a href="#page7" class="btn btn-primary">Pr√≥ximo <i class="bi bi-arrow-right"></i></a>
            </div>
        </div>

        <div class="ebook-page" id="page7">
            <h1>Com o Padr√£o Aplicado (Pseudo Linguagem)</h1>
            <div class="img-placeholder-8">
                <img src="https://akamai.sscdn.co/tb/letras-blog/wp-content/uploads/2021/05/602034e-avril-lavigne-1024x576.png"
                    alt="Adapter Avril Lavigne" class="cover-image">
            </div>
            <p>Aplicando o Padr√£o Adapter, criamos uma integra√ß√£o elegante entre diferentes eras musicais:</p>
            <pre><code>
// Target Interface - O que o sistema moderno espera
interface MusicaStreaming {
    getTitulo(): string
    getArtista(): string
    reproduzirStreaming(): void
    promoverInstagram(): void
    getDuracao(): number
    getAnoLancamento(): number
    getGenero(): string
}

// Adaptee - M√∫sica da era 2002
class MusicaEra2002 {
    constructor(
        private titulo: string,
        private artista: string,
        private duracao: number,
        private genero: string,
        private letra: string
    ) {}
    
    // M√©todos espec√≠ficos da era 2002
    tocarNoCD(): void {
        console.log(`üíø CD Player: Tocando "${this.titulo}"`)
        console.log(`   üé∏ ${this.artista} - ${this.genero}`)
        console.log(`   üìÄ Formato: CD (2002)`)
    }
    
    promoverNaMTV(): void {
        console.log(`üì∫ MTV: Nova m√∫sica! "${this.titulo}"`)
        console.log(`   üé• Video clipe em rota√ß√£o`)
    }
    
    comprarCD(): string {
        return `üí∞ Compre o CD de "${this.titulo}" na loja de m√∫sica!`
    }
    
    // Getters para informa√ß√µes b√°sicas
    getTituloOriginal(): string {
        return this.titulo
    }
    
    getArtistaOriginal(): string {
        return this.artista
    }
    
    getDuracaoOriginal(): number {
        return this.duracao
    }
    
    getGeneroOriginal(): string {
        return this.genero
    }
    
    getLetra(): string {
        return this.letra
    }
}

// Adaptee - M√∫sica da era 2007
class MusicaEra2007 {
    constructor(
        private titulo: string,
        private artista: string,
        private duracao: number,
        private genero: string,
        private bpm: number
    ) {}
    
    // M√©todos espec√≠ficos da era 2007
    tocarNoMP3(): void {
        console.log(`üéµ MP3 Player: "${this.titulo}"`)
        console.log(`   üé§ ${this.artista} - ${this.genero}`)
        console.log(`   ‚ö° BPM: ${this.bpm}`)
        console.log(`   üì± Formato: MP3 (2007)`)
    }
    
    promoverNoMyspace(): void {
        console.log(`üíª MySpace: Ou√ßa "${this.titulo}"!`)
        console.log(`   üë• Adicione em seu perfil`)
    }
    
    comprarITunes(): string {
        return `üõí Baixe "${this.titulo}" no iTunes!`
    }
    
    // Getters para informa√ß√µes b√°sicas
    getTituloOriginal(): string {
        return this.titulo
    }
    
    getArtistaOriginal(): string {
        return this.artista
    }
    
    getDuracaoOriginal(): number {
        return this.duracao
    }
    
    getGeneroOriginal(): string {
        return this.genero
    }
    
    getBPM(): number {
        return this.bpm
    }
}

// Adaptee - M√∫sica da era 2013
class MusicaEra2013 {
    constructor(
        private titulo: string,
        private artista: string,
        private duracao: number,
        private genero: string,
        private colaboracoes: string[]
    ) {}
    
    // M√©todos espec√≠ficos da era 2013
    tocarNoYouTube(): void {
        console.log(`üì∫ YouTube: "${this.titulo}"`)
        console.log(`   üé∂ ${this.artista} - ${this.genero}`)
        if (this.colaboracoes.length > 0) {
            console.log(`   üë• Feat. ${this.colaboracoes.join(", ")}`)
        }
        console.log(`   üåê Formato: Streaming (2013)`)
    }
    
    promoverNoTwitter(): void {
        console.log(`üê¶ Twitter: #NovaM√∫sica "${this.titulo}"`)
        console.log(`   üîÅ Retweet para espalhar!`)
    }
    
    // Getters para informa√ß√µes b√°sicas
    getTituloOriginal(): string {
        return this.titulo
    }
    
    getArtistaOriginal(): string {
        return this.artista
    }
    
    getDuracaoOriginal(): number {
        return this.duracao
    }
    
    getGeneroOriginal(): string {
        return this.genero
    }
    
    getColaboracoes(): string[] {
        return [...this.colaboracoes]
    }
}

// Adapter para m√∫sicas da era 2002
class AdapterEra2002 implements MusicaStreaming {
    private musicaEra2002: MusicaEra2002
    
    constructor(musicaEra2002: MusicaEra2002) {
        this.musicaEra2002 = musicaEra2002
    }
    
    getTitulo(): string {
        return this.musicaEra2002.getTituloOriginal()
    }
    
    getArtista(): string {
        return this.musicaEra2002.getArtistaOriginal()
    }
    
    reproduzirStreaming(): void {
        console.log(`üéß STREAMING (Adaptado): "${this.getTitulo()}"`)
        console.log(`   üë§ ${this.getArtista()}`)
        console.log(`   üé∏ G√™nero: ${this.getGenero()} (Original: 2002)`)
        console.log(`   ‚è±Ô∏è  Dura√ß√£o: ${this.formatarDuracao(this.getDuracao())}`)
        console.log(`   üìÖ Lan√ßamento: ${this.getAnoLancamento()}`)
        console.log(`   üí´ Cl√°ssico adaptado para streaming moderno`)
        
        // Adapta a reprodu√ß√£o do CD para streaming
        this.musicaEra2002.tocarNoCD()
    }
    
    promoverInstagram(): void {
        console.log(`üì± INSTAGRAM (Adaptado): "${this.getTitulo()}"`)
        console.log(`   üë§ ${this.getArtista()}`)
        console.log(`   üéµ #Throwback #Classic`)
        console.log(`   üì∏ Stories e Reels dispon√≠veis`)
        
        // Adapta a promo√ß√£o da MTV para Instagram
        this.musicaEra2002.promoverNaMTV()
    }
    
    getDuracao(): number {
        return this.musicaEra2002.getDuracaoOriginal()
    }
    
    getAnoLancamento(): number {
        return 2002 // Era espec√≠fica
    }
    
    getGenero(): string {
        const generoOriginal = this.musicaEra2002.getGeneroOriginal()
        // Adapta o g√™nero para terminologia moderna
        return this.adaptarGenero(generoOriginal)
    }
    
    // M√©todos auxiliares do adapter
    private formatarDuracao(segundos: number): string {
        const minutos = Math.floor(segundos / 60)
        const segs = segundos % 60
        return `${minutos}:${segs.toString().padStart(2, '0')}`
    }
    
    private adaptarGenero(genero: string): string {
        const adaptacoes: { [key: string]: string } = {
            "Punk-Rock": "Pop Punk Cl√°ssico",
            "Rock": "Rock Alternativo",
            "Pop": "Pop Tradicional"
        }
        return adaptacoes[genero] || genero
    }
    
    // M√©todo para acessar funcionalidades espec√≠ficas da era
    getLetraOriginal(): string {
        return this.musicaEra2002.getLetra()
    }
}

// Adapter para m√∫sicas da era 2007
class AdapterEra2007 implements MusicaStreaming {
    private musicaEra2007: MusicaEra2007
    
    constructor(musicaEra2007: MusicaEra2007) {
        this.musicaEra2007 = musicaEra2007
    }
    
    getTitulo(): string {
        return this.musicaEra2007.getTituloOriginal()
    }
    
    getArtista(): string {
        return this.musicaEra2007.getArtistaOriginal()
    }
    
    reproduzirStreaming(): void {
        console.log(`üéß STREAMING (Adaptado): "${this.getTitulo()}"`)
        console.log(`   üë§ ${this.getArtista()}`)
        console.log(`   üé§ G√™nero: ${this.getGenero()} (Original: 2007)`)
        console.log(`   ‚è±Ô∏è  Dura√ß√£o: ${this.formatarDuracao(this.getDuracao())}`)
        console.log(`   üìÖ Lan√ßamento: ${this.getAnoLancamento()}`)
        console.log(`   ‚ö° BPM: ${this.musicaEra2007.getBPM()}`)
        console.log(`   üí´ Hit dos anos 2000 adaptado`)
        
        // Adapta a reprodu√ß√£o do MP3 para streaming
        this.musicaEra2007.tocarNoMP3()
    }
    
    promoverInstagram(): void {
        console.log(`üì± INSTAGRAM (Adaptado): "${this.getTitulo()}"`)
        console.log(`   üë§ ${this.getArtista()}`)
        console.log(`   üéµ #Throwback #2000s`)
        console.log(`   üì∏ Dance challenge dispon√≠vel`)
        
        // Adapta a promo√ß√£o do MySpace para Instagram
        this.musicaEra2007.promoverNoMyspace()
    }
    
    getDuracao(): number {
        return this.musicaEra2007.getDuracaoOriginal()
    }
    
    getAnoLancamento(): number {
        return 2007 // Era espec√≠fica
    }
    
    getGenero(): string {
        const generoOriginal = this.musicaEra2007.getGeneroOriginal()
        // Adapta o g√™nero para terminologia moderna
        return this.adaptarGenero(generoOriginal)
    }
    
    // M√©todos auxiliares do adapter
    private formatarDuracao(segundos: number): string {
        const minutos = Math.floor(segundos / 60)
        const segs = segundos % 60
        return `${minutos}:${segs.toString().padStart(2, '0')}`
    }
    
    private adaptarGenero(genero: string): string {
        const adaptacoes: { [key: string]: string } = {
            "Pop-Punk": "Pop Punk",
            "Rock": "Rock Mainstream",
            "Pop": "Pop Comercial"
        }
        return adaptacoes[genero] || genero
    }
    
    // M√©todo para acessar funcionalidades espec√≠ficas da era
    getBPMOriginal(): number {
        return this.musicaEra2007.getBPM()
    }
}

// Adapter para m√∫sicas da era 2013
class AdapterEra2013 implements MusicaStreaming {
    private musicaEra2013: MusicaEra2013
    
    constructor(musicaEra2013: MusicaEra2013) {
        this.musicaEra2013 = musicaEra2013
    }
    
    getTitulo(): string {
        return this.musicaEra2013.getTituloOriginal()
    }
    
    getArtista(): string {
        return this.musicaEra2013.getArtistaOriginal()
    }
    
    reproduzirStreaming(): void {
        console.log(`üéß STREAMING (Adaptado): "${this.getTitulo()}"`)
        console.log(`   üë§ ${this.getArtista()}`)
        console.log(`   üé∂ G√™nero: ${this.getGenero()} (Original: 2013)`)
        console.log(`   ‚è±Ô∏è  Dura√ß√£o: ${this.formatarDuracao(this.getDuracao())}`)
        console.log(`   üìÖ Lan√ßamento: ${this.getAnoLancamento()}`)
        
        const colaboracoes = this.musicaEra2013.getColaboracoes()
        if (colaboracoes.length > 0) {
            console.log(`   üë• Colabora√ß√µes: ${colaboracoes.join(", ")}`)
        }
        
        console.log(`   üí´ Transi√ß√£o para era digital`)
        
        // Adapta a reprodu√ß√£o do YouTube para streaming moderno
        this.musicaEra2013.tocarNoYouTube()
    }
    
    promoverInstagram(): void {
        console.log(`üì± INSTAGRAM (Adaptado): "${this.getTitulo()}"`)
        console.log(`   üë§ ${this.getArtista()}`)
        
        const colaboracoes = this.musicaEra2013.getColaboracoes()
        if (colaboracoes.length > 0) {
            console.log(`   üë• Com ${colaboracoes.join(", ")}`)
        }
        
        console.log(`   üéµ #2010s #Transition`)
        console.log(`   üì∏ Carrossel de fotos dispon√≠vel`)
        
        // Adapta a promo√ß√£o do Twitter para Instagram
        this.musicaEra2013.promoverNoTwitter()
    }
    
    getDuracao(): number {
        return this.musicaEra2013.getDuracaoOriginal()
    }
    
    getAnoLancamento(): number {
        return 2013 // Era espec√≠fica
    }
    
    getGenero(): string {
        const generoOriginal = this.musicaEra2013.getGeneroOriginal()
        // Menos adapta√ß√£o necess√°ria para era mais recente
        return generoOriginal
    }
    
    // M√©todos auxiliares do adapter
    private formatarDuracao(segundos: number): string {
        const minutos = Math.floor(segundos / 60)
        const segs = segundos % 60
        return `${minutos}:${segs.toString().padStart(2, '0')}`
    }
    
    // M√©todo para acessar funcionalidades espec√≠ficas da era
    getColaboracoesOriginais(): string[] {
        return this.musicaEra2013.getColaboracoes()
    }
}

// Sistema de Streaming Moderno (Client)
class SpotifyModerno {
    private playlist: MusicaStreaming[] = []
    
    adicionarMusica(musica: MusicaStreaming): void {
        this.playlist.push(musica)
        console.log(`‚úÖ Adicionada: ${musica.getTitulo()} (${musica.getAnoLancamento()})`)
    }
    
    reproduzirPlaylist(): void {
        console.log("\nüéß SPOTIFY - REPRODUZINDO PLAYLIST")
        console.log("=" .repeat(50))
        
        for (const musica of this.playlist) {
            console.log("\n" + "-".repeat(30))
            musica.reproduzirStreaming()
        }
        
        console.log("\nüéâ Playlist conclu√≠da!")
        this.mostrarEstatisticas()
    }
    
    promoverPlaylist(): void {
        console.log("\nüì± PROMO√á√ÉO NO INSTAGRAM")
        console.log("=" .repeat(40))
        
        for (const musica of this.playlist) {
            console.log("\n" + "-".repeat(20))
            musica.promoverInstagram()
        }
    }
    
    private mostrarEstatisticas(): void {
        console.log("\nüìä ESTAT√çSTICAS DA PLAYLIST:")
        console.log("-".repeat(30))
        
        const totalMusicas = this.playlist.length
        const duracaoTotal = this.playlist.reduce((total, musica) => total + musica.getDuracao(), 0)
        const anos = this.playlist.map(m => m.getAnoLancamento())
        const anoMaisAntigo = Math.min(...anos)
        const anoMaisRecente = Math.max(...anos)
        
        console.log(`Total de m√∫sicas: ${totalMusicas}`)
        console.log(`Dura√ß√£o total: ${this.formatarDuracao(duracaoTotal)}`)
        console.log(`Per√≠odo: ${anoMaisAntigo} - ${anoMaisRecente}`)
        console.log(`Artista: Avril Lavigne`)
    }
    
    private formatarDuracao(segundos: number): string {
        const minutos = Math.floor(segundos / 60)
        const segs = segundos % 60
        return `${minutos}:${segs.toString().padStart(2, '0')}`
    }
}

// F√°brica de Adapters
class AvrilLavigneAdapterFactory {
    static criarAdapter(musica: any): MusicaStreaming {
        if (musica instanceof MusicaEra2002) {
            return new AdapterEra2002(musica)
        } else if (musica instanceof MusicaEra2007) {
            return new AdapterEra2007(musica)
        } else if (musica instanceof MusicaEra2013) {
            return new AdapterEra2013(musica)
        } else {
            throw new Error("Tipo de m√∫sica n√£o suportado")
        }
    }
}

// Sistema de Evolu√ß√£o Musical
class EvolucaoAvrilLavigne {
    static demonstrarAdaptacao(): void {
        console.log("üé§ EVOLU√á√ÉO MUSICAL - AVRIL LAVIGNE")
        console.log("====================================")
        console.log("üìÄ Padr√£o Adapter em A√ß√£o")
        console.log("")
        
        // Criando m√∫sicas de diferentes eras (Adaptees)
        const complicated = new MusicaEra2002(
            "Complicated",
            "Avril Lavigne",
            244,
            "Punk-Rock",
            "Chill out, what you yelling for?"
        )
        
        const girlfriend = new MusicaEra2007(
            "Girlfriend",
            "Avril Lavigne",
            217,
            "Pop-Punk",
            128
        )
        
        const rockNRoll = new MusicaEra2013(
            "Rock N Roll",
            "Avril Lavigne",
            226,
            "Pop-Rock",
            []
        )
        
        const helloKitty = new MusicaEra2013(
            "Hello Kitty",
            "Avril Lavigne",
            193,
            "J-Pop",
            []
        )
        
        // Criando adapters para cada m√∫sica
        const adapterComplicated = AvrilLavigneAdapterFactory.criarAdapter(complicated)
        const adapterGirlfriend = AvrilLavigneAdapterFactory.criarAdapter(girlfriend)
        const adapterRockNRoll = AvrilLavigneAdapterFactory.criarAdapter(rockNRoll)
        const adapterHelloKitty = AvrilLavigneAdapterFactory.criarAdapter(helloKitty)
        
        // Criando sistema de streaming moderno
        const spotify = new SpotifyModerno()
        
        // Adicionando m√∫sicas adaptadas
        spotify.adicionarMusica(adapterComplicated)
        spotify.adicionarMusica(adapterGirlfriend)
        spotify.adicionarMusica(adapterRockNRoll)
        spotify.adicionarMusica(adapterHelloKitty)
        
        // DEMONSTRA√á√ÉO DO ADAPTER EM A√á√ÉO
        console.log("\nüéØ DEMONSTRA√á√ÉO DO PADR√ÉO ADAPTER")
        console.log("=" .repeat(40))
        
        // Reproduzindo playlist com interface uniforme
        spotify.reproduzirPlaylist()
        
        // Promovendo no Instagram
        spotify.promoverPlaylist()
        
        // Demonstra√ß√£o de tratamento uniforme
        console.log("\nüîÑ TRATAMENTO UNIFORME DAS ERAS")
        console.log("=" .repeat(35))
        
        const musicasAdaptadas: MusicaStreaming[] = [
            adapterComplicated,
            adapterGirlfriend,
            adapterRockNRoll
        ]
        
        musicasAdaptadas.forEach((musica, index) => {
            console.log(`\n${index + 1}. ${musica.getTitulo()} (${musica.getAnoLancamento()})`)
            console.log(`   Artista: ${musica.getArtista()}`)
            console.log(`   G√™nero: ${musica.getGenero()}`)
            console.log(`   Dura√ß√£o: ${musica.getDuracao()}s`)
            // Todas respondem √† mesma interface!
        })
        
        console.log("\nüé∏ Evolu√ß√£o musical de Avril Lavigne adaptada com sucesso!")
        console.log("üí´ Diferentes eras, mesma interface!")
    }
}

// Executando a demonstra√ß√£o
EvolucaoAvrilLavigne.demonstrarAdaptacao()
            </code></pre>

            <div class="page-navigation">
                <a href="#page6" class="btn btn-outline-primary"><i class="bi bi-arrow-left"></i> Anterior</a>
                <a href="#page8" class="btn btn-primary">Pr√≥ximo <i class="bi bi-arrow-right"></i></a>
            </div>
        </div>

        <div class="ebook-page" id="page8">
            <h1>Exemplo Pr√°tico do Dia a Dia (Python)</h1>
            <div class="img-placeholder-9">
                <img src="https://e1.pxfuel.com/desktop-wallpaper/246/863/desktop-wallpaper-python-logo-python.jpg" alt="Python Example"
                    class="cover-image">
            </div>
            <p>Um exemplo pr√°tico do Padr√£o Adapter em um sistema de processamento de pagamentos:</p>
            <pre><code>
from abc import ABC, abstractmethod
from typing import Dict, Any
from datetime import datetime
import json

# Target Interface - O que nosso sistema espera
class ProcessadorPagamentoModerno(ABC):
    @abstractmethod
    def processar_pagamento(self, valor: float, moeda: str, descricao: str) -> Dict[str, Any]:
        pass
    
    @abstractmethod
    def estornar_pagamento(self, id_transacao: str) -> bool:
        pass
    
    @abstractmethod
    def obter_status(self, id_transacao: str) -> Dict[str, Any]:
        pass

# Adaptee - Sistema legado de pagamento (simula√ß√£o)
class SistemaPagamentoLegado:
    """Sistema legado com interface incompat√≠vel"""
    
    def autorizar_cartao(self, numero_cartao: str, valor: float, data_validade: str, cvv: str) -> Dict[str, Any]:
        """M√©todo legado para autoriza√ß√£o de cart√£o"""
        print(f"üí≥ SISTEMA LEGADO: Autorizando cart√£o {numero_cartao[-4:]}")
        print(f"   Valor: ${valor:.2f}")
        print(f"   Data: {data_validade}")
        
        # Simula√ß√£o de processamento
        transacao_id = f"LEG_{datetime.now().strftime('%Y%m%d%H%M%S')}"
        
        return {
            "transacao_id": transacao_id,
            "status": "autorizado",
            "codigo_autorizacao": f"AUTH{datetime.now().strftime('%H%M%S')}",
            "mensagem": "Transa√ß√£o autorizada pelo sistema legado",
            "timestamp": datetime.now().isoformat()
        }
    
    def capturar_valor(self, transacao_id: str, valor: float) -> Dict[str, Any]:
        """M√©todo legado para captura de valor"""
        print(f"üí∞ SISTEMA LEGADO: Capturando valor para {transacao_id}")
        print(f"   Valor a capturar: ${valor:.2f}")
        
        return {
            "transacao_id": transacao_id,
            "status": "capturado",
            "valor_capturado": valor,
            "mensagem": "Valor capturado com sucesso",
            "timestamp": datetime.now().isoformat()
        }
    
    def estornar_transacao(self, transacao_id: str, motivo: str = "") -> Dict[str, Any]:
        """M√©todo legado para estorno"""
        print(f"üîÑ SISTEMA LEGADO: Estornando transa√ß√£o {transacao_id}")
        if motivo:
            print(f"   Motivo: {motivo}")
        
        return {
            "transacao_id": transacao_id,
            "status": "estornado",
            "mensagem": "Transa√ß√£o estornada no sistema legado",
            "timestamp": datetime.now().isoformat()
        }
    
    def consultar_transacao(self, transacao_id: str) -> Dict[str, Any]:
        """M√©todo legado para consulta"""
        print(f"üîç SISTEMA LEGADO: Consultando transa√ß√£o {transacao_id}")
        
        # Simula√ß√£o de consulta
        return {
            "transacao_id": transacao_id,
            "status": "completo",
            "valor": 100.0,  # Valor simulado
            "mensagem": "Consulta realizada no sistema legado",
            "timestamp": datetime.now().isoformat()
        }

# Adaptee - Gateway de pagamento externo (simula√ß√£o)
class GatewayPagamentoExterno:
    """Gateway de pagamento com interface diferente"""
    
    def criar_pagamento(self, amount: float, currency: str, description: str, 
                       payment_method: str = "card") -> Dict[str, Any]:
        """M√©todo do gateway externo"""
        print(f"üåê GATEWAY EXTERNO: Criando pagamento")
        print(f"   Amount: {amount} {currency}")
        print(f"   Description: {description}")
        print(f"   Method: {payment_method}")
        
        # Simula√ß√£o de cria√ß√£o de pagamento
        payment_id = f"EXT_{datetime.now().strftime('%Y%m%d%H%M%S')}"
        
        return {
            "payment_id": payment_id,
            "status": "created",
            "approval_url": f"https://gateway.com/approve/{payment_id}",
            "message": "Payment created successfully",
            "created_at": datetime.now().isoformat()
        }
    
    def executar_pagamento(self, payment_id: str, payer_id: str) -> Dict[str, Any]:
        """M√©todo do gateway externo para executar pagamento"""
        print(f"‚ö° GATEWAY EXTERNO: Executando pagamento {payment_id}")
        print(f"   Payer ID: {payer_id}")
        
        return {
            "payment_id": payment_id,
            "status": "completed",
            "transaction_id": f"TXN_{datetime.now().strftime('%H%M%S')}",
            "message": "Payment completed successfully",
            "completed_at": datetime.now().isoformat()
        }
    
    def reembolsar_pagamento(self, payment_id: str, amount: float = None) -> Dict[str, Any]:
        """M√©todo do gateway externo para reembolso"""
        print(f"üí∏ GATEWAY EXTERNO: Reembolsando pagamento {payment_id}")
        if amount:
            print(f"   Amount: {amount}")
        
        return {
            "payment_id": payment_id,
            "status": "refunded",
            "refund_id": f"REF_{datetime.now().strftime('%H%M%S')}",
            "message": "Payment refunded successfully",
            "refunded_at": datetime.now().isoformat()
        }
    
    def obter_detalhes_pagamento(self, payment_id: str) -> Dict[str, Any]:
        """M√©todo do gateway externo para obter detalhes"""
        print(f"üìã GATEWAY EXTERNO: Obtendo detalhes do pagamento {payment_id}")
        
        # Simula√ß√£o de detalhes
        return {
            "payment_id": payment_id,
            "status": "completed",
            "amount": 150.0,  # Valor simulado
            "currency": "USD",
            "message": "Payment details retrieved",
            "retrieved_at": datetime.now().isoformat()
        }

# Adapter para o sistema legado
class AdapterSistemaLegado(ProcessadorPagamentoModerno):
    def __init__(self):
        self.sistema_legado = SistemaPagamentoLegado()
        self.mapa_transacoes = {}  # Mapeia IDs modernos para IDs legados
    
    def processar_pagamento(self, valor: float, moeda: str, descricao: str) -> Dict[str, Any]:
        print(f"üîÑ ADAPTER: Adaptando processamento para sistema legado")
        print(f"   Valor: {valor} {moeda}")
        print(f"   Descri√ß√£o: {descrica o}")
        
        # Simula√ß√£o de dados do cart√£o (em um sistema real, isso viria de forma segura)
        numero_cartao = "4111111111111111"
        data_validade = "12/25"
        cvv = "123"
        
        # Adapta√ß√£o: Converter chamada moderna para interface legada
        # 1. Primeiro autorizar no sistema legado
        resultado_autorizacao = self.sistema_legado.autorizar_cartao(
            numero_cartao, valor, data_validade, cvv
        )
        
        # 2. Depois capturar o valor
        resultado_captura = self.sistema_legado.capturar_valor(
            resultado_autorizacao["transacao_id"], valor
        )
        
        # Criar ID moderno e mapear
        id_moderno = f"MOD_{datetime.now().strftime('%Y%m%d%H%M%S')}"
        self.mapa_transacoes[id_moderno] = resultado_autorizacao["transacao_id"]
        
        # Adaptar resposta para formato moderno
        return {
            "id_transacao": id_moderno,
            "status": "processado",
            "valor": valor,
            "moeda": moeda,
            "descricao": descricao,
            "gateway": "sistema_legado",
            "detalhes": {
                "id_legado": resultado_autorizacao["transacao_id"],
                "codigo_autorizacao": resultado_autorizacao["codigo_autorizacao"],
                "mensagem_legado": resultado_captura["mensagem"]
            },
            "timestamp": datetime.now().isoformat()
        }
    
    def estornar_pagamento(self, id_transacao: str) -> bool:
        print(f"üîÑ ADAPTER: Adaptando estorno para sistema legado")
        print(f"   ID Transa√ß√£o: {id_transacao}")
        
        # Obter ID legado correspondente
        id_legado = self.mapa_transacoes.get(id_transacao)
        if not id_legado:
            print(f"‚ùå Transa√ß√£o n√£o encontrada: {id_transacao}")
            return False
        
        # Adapta√ß√£o: Converter estorno moderno para interface legada
        resultado = self.sistema_legado.estornar_transacao(id_legado, "Solicitado pelo cliente")
        
        # Adaptar resposta
        sucesso = resultado["status"] == "estornado"
        if sucesso:
            print(f"‚úÖ Estorno adaptado com sucesso")
        else:
            print(f"‚ùå Falha no estorno adaptado")
        
        return sucesso
    
    def obter_status(self, id_transacao: str) -> Dict[str, Any]:
        print(f"üîÑ ADAPTER: Adaptando consulta de status para sistema legado")
        print(f"   ID Transa√ß√£o: {id_transacao}")
        
        # Obter ID legado correspondente
        id_legado = self.mapa_transacoes.get(id_transacao)
        if not id_legado:
            return {
                "id_transacao": id_transacao,
                "status": "nao_encontrado",
                "mensagem": "Transa√ß√£o n√£o encontrada",
                "timestamp": datetime.now().isoformat()
            }
        
        # Adapta√ß√£o: Converter consulta moderna para interface legada
        resultado = self.sistema_legado.consultar_transacao(id_legado)
        
        # Adaptar resposta para formato moderno
        status_adaptado = self._adaptar_status(resultado["status"])
        
        return {
            "id_transacao": id_transacao,
            "status": status_adaptado,
            "valor": resultado["valor"],
            "gateway": "sistema_legado",
            "detalhes": {
                "id_legado": id_legado,
                "mensagem_legado": resultado["mensagem"]
            },
            "timestamp": datetime.now().isoformat()
        }
    
    def _adaptar_status(self, status_legado: str) -> str:
        """Adapta status do sistema legado para status moderno"""
        mapeamento_status = {
            "autorizado": "autorizado",
            "capturado": "processado",
            "completo": "concluido",
            "estornado": "estornado"
        }
        return mapeamento_status.get(status_legado, "desconhecido")

# Adapter para o gateway externo
class AdapterGatewayExterno(ProcessadorPagamentoModerno):
    def __init__(self):
        self.gateway_externo = GatewayPagamentoExterno()
        self.mapa_pagamentos = {}  # Mapeia IDs modernos para IDs do gateway
    
    def processar_pagamento(self, valor: float, moeda: str, descricao: str) -> Dict[str, Any]:
        print(f"üîÑ ADAPTER: Adaptando processamento para gateway externo")
        print(f"   Valor: {valor} {moeda}")
        print(f"   Descri√ß√£o: {descricao}")
        
        # Adapta√ß√£o: Converter chamada moderna para interface do gateway
        # 1. Primeiro criar pagamento no gateway
        resultado_criacao = self.gateway_externo.criar_pagamento(valor, moeda, descricao)
        
        # 2. Simular execu√ß√£o do pagamento (em sistema real, haveria redirecionamento)
        payer_id = f"PAYER_{datetime.now().strftime('%H%M%S')}"
        resultado_execucao = self.gateway_externo.executar_pagamento(
            resultado_criacao["payment_id"], payer_id
        )
        
        # Criar ID moderno e mapear
        id_moderno = f"MOD_{datetime.now().strftime('%Y%m%d%H%M%S')}"
        self.mapa_pagamentos[id_moderno] = resultado_criacao["payment_id"]
        
        # Adaptar resposta para formato moderno
        return {
            "id_transacao": id_moderno,
            "status": "processado",
            "valor": valor,
            "moeda": moeda,
            "descricao": descricao,
            "gateway": "gateway_externo",
            "detalhes": {
                "payment_id": resultado_criacao["payment_id"],
                "transaction_id": resultado_execucao["transaction_id"],
                "approval_url": resultado_criacao["approval_url"]
            },
            "timestamp": datetime.now().isoformat()
        }
    
    def estornar_pagamento(self, id_transacao: str) -> bool:
        print(f"üîÑ ADAPTER: Adaptando estorno para gateway externo")
        print(f"   ID Transa√ß√£o: {id_transacao}")
        
        # Obter ID do gateway correspondente
        payment_id = self.mapa_pagamentos.get(id_transacao)
        if not payment_id:
            print(f"‚ùå Transa√ß√£o n√£o encontrada: {id_transacao}")
            return False
        
        # Adapta√ß√£o: Converter estorno moderno para interface do gateway
        resultado = self.gateway_externo.reembolsar_pagamento(payment_id)
        
        # Adaptar resposta
        sucesso = resultado["status"] == "refunded"
        if sucesso:
            print(f"‚úÖ Estorno adaptado com sucesso")
        else:
            print(f"‚ùå Falha no estorno adaptado")
        
        return sucesso
    
    def obter_status(self, id_transacao: str) -> Dict[str, Any]:
        print(f"üîÑ ADAPTER: Adaptando consulta de status para gateway externo")
        print(f"   ID Transa√ß√£o: {id_transacao}")
        
        # Obter ID do gateway correspondente
        payment_id = self.mapa_pagamentos.get(id_transacao)
        if not payment_id:
            return {
                "id_transacao": id_transacao,
                "status": "nao_encontrado",
                "mensagem": "Transa√ß√£o n√£o encontrada",
                "timestamp": datetime.now().isoformat()
            }
        
        # Adapta√ß√£o: Converter consulta moderna para interface do gateway
        resultado = self.gateway_externo.obter_detalhes_pagamento(payment_id)
        
        # Adaptar resposta para formato moderno
        status_adaptado = self._adaptar_status(resultado["status"])
        
        return {
            "id_transacao": id_transacao,
            "status": status_adaptado,
            "valor": resultado["amount"],
            "moeda": resultado["currency"],
            "gateway": "gateway_externo",
            "detalhes": {
                "payment_id": payment_id,
                "mensagem_gateway": resultado["message"]
            },
            "timestamp": datetime.now().isoformat()
        }
    
    def _adaptar_status(self, status_gateway: str) -> str:
        """Adapta status do gateway para status moderno"""
        mapeamento_status = {
            "created": "criado",
            "completed": "concluido",
            "refunded": "estornado"
        }
        return mapeamento_status.get(status_gateway, "desconhecido")

# Sistema de E-commerce Moderno (Client)
class EcommerceModerno:
    def __init__(self):
        self.processadores = {}
        self.registrar_processadores()
    
    def registrar_processadores(self):
        """Registra os adapters dispon√≠veis"""
        self.processadores["legado"] = AdapterSistemaLegado()
        self.processadores["gateway"] = AdapterGatewayExterno()
    
    def processar_pedido(self, pedido: Dict[str, Any], gateway: str = "gateway") -> Dict[str, Any]:
        """Processa um pedido usando o gateway especificado"""
        print(f"\nüõí PROCESSANDO PEDIDO DE E-COMMERCE")
        print("=" .repeat(40))
        print(f"Pedido ID: {pedido['id']}")
        print(f"Cliente: {pedido['cliente']}")
        print(f"Gateway: {gateway}")
        
        processador = self.processadores.get(gateway)
        if not processador:
            return {
                "sucesso": False,
                "erro": f"Gateway n√£o suportado: {gateway}"
            }
        
        try:
            # Usa a interface uniforme do processador
            resultado = processador.processar_pagamento(
                pedido["valor"],
                pedido["moeda"],
                f"Pedido {pedido['id']} - {pedido['cliente']}"
            )
            
            resultado["sucesso"] = True
            resultado["gateway_utilizado"] = gateway
            return resultado
            
        except Exception as e:
            return {
                "sucesso": False,
                "erro": str(e),
                "gateway_utilizado": gateway
            }
    
    def estornar_pedido(self, id_transacao: str, gateway: str) -> Dict[str, Any]:
        """Estorna um pedido"""
        print(f"\nüîÑ ESTORNANDO PEDIDO")
        print("=" .repeat(25))
        print(f"Transa√ß√£o: {id_transacao}")
        print(f"Gateway: {gateway}")
        
        processador = self.processadores.get(gateway)
        if not processador:
            return {
                "sucesso": False,
                "erro": f"Gateway n√£o suportado: {gateway}"
            }
        
        try:
            sucesso = processador.estornar_pagamento(id_transacao)
            return {
                "sucesso": sucesso,
                "id_transacao": id_transacao,
                "gateway": gateway
            }
            
        except Exception as e:
            return {
                "sucesso": False,
                "erro": str(e),
                "gateway": gateway
            }
    
    def consultar_status(self, id_transacao: str, gateway: str) -> Dict[str, Any]:
        """Consulta status de uma transa√ß√£o"""
        processador = self.processadores.get(gateway)
        if not processador:
            return {
                "sucesso": False,
                "erro": f"Gateway n√£o suportado: {gateway}"
            }
        
        try:
            status = processador.obter_status(id_transacao)
            status["sucesso"] = True
            return status
            
        except Exception as e:
            return {
                "sucesso": False,
                "erro": str(e)
            }

# Demonstra√ß√£o do sistema
def demonstrar_sistema_pagamentos():
    """Demonstra o sistema de pagamentos com adapters"""
    print("üí≥ SISTEMA DE PAGAMENTOS - PADR√ÉO ADAPTER")
    print("=" .repeat(45))
    print("Integrando sistemas legados e gateways externos")
    print("com uma interface moderna e uniforme\n")
    
    # Criar sistema de e-commerce
    ecommerce = EcommerceModerno()
    
    # Pedidos de exemplo
    pedidos = [
        {
            "id": "PED001",
            "cliente": "Jo√£o Silva",
            "valor": 150.50,
            "moeda": "BRL",
            "produtos": ["Camiseta Avril Lavigne", "CD Let Go"]
        },
        {
            "id": "PED002", 
            "cliente": "Maria Santos",
            "valor": 89.99,
            "moeda": "BRL",
            "produtos": ["Poster", "Adesivos"]
        },
        {
            "id": "PED003",
            "cliente": "Carlos Lima",
            "valor": 200.00,
            "moeda": "USD",
            "produtos": ["Box Colecionador", "Vinil"]
        }
    ]
    
    # Processar pedidos com diferentes gateways
    resultados = []
    
    print("üéØ DEMONSTRA√á√ÉO DO PADR√ÉO ADAPTER")
    print("=" .repeat(35))
    
    for i, pedido in enumerate(pedidos):
        gateway = "legado" if i % 2 == 0 else "gateway"
        print(f"\nüì¶ PROCESSANDO PEDIDO {i+1} COM GATEWAY: {gateway.upper()}")
        print("-" .repeat(50))
        
        resultado = ecommerce.processar_pedido(pedido, gateway)
        resultados.append(resultado)
        
        if resultado["sucesso"]:
            print(f"‚úÖ Pedido processado com sucesso!")
            print(f"   ID Transa√ß√£o: {resultado['id_transacao']}")
            print(f"   Status: {resultado['status']}")
            print(f"   Gateway: {resultado['gateway_utilizado']}")
        else:
            print(f"‚ùå Falha no processamento: {resultado['erro']}")
    
    # Demonstrar estorno
    print("\nüîÑ DEMONSTRANDO ESTORNO")
    print("=" .repeat(25))
    
    for resultado in resultados[:1]:  # Estornar apenas o primeiro
        if resultado["sucesso"]:
            estorno = ecommerce.estornar_pedido(
                resultado["id_transacao"],
                resultado["gateway_utilizado"]
            )
            
            if estorno["sucesso"]:
                print(f"‚úÖ Estorno realizado com sucesso!")
            else:
                print(f"‚ùå Falha no estorno: {estorno['erro']}")
    
    # Demonstrar consulta de status
    print("\nüîç CONSULTANDO STATUS DAS TRANSA√á√ïES")
    print("=" .repeat(40))
    
    for resultado in resultados:
        if resultado["sucesso"]:
            status = ecommerce.consultar_status(
                resultado["id_transacao"],
                resultado["gateway_utilizado"]
            )
            
            if status["sucesso"]:
                print(f"üìã Transa√ß√£o: {status['id_transacao']}")
                print(f"   Status: {status['status']}")
                print(f"   Valor: {status.get('valor', 'N/A')}")
                print(f"   Gateway: {status.get('gateway', 'N/A')}")
            else:
                print(f"‚ùå Erro na consulta: {status['erro']}")
    
    print("\nüí´ Sistema de pagamentos integrado com sucesso!")
    print("üîÑ Diferentes gateways, mesma interface!")

if __name__ == "__main__":
    demonstrar_sistema_pagamentos()
            </code></pre>

            <div class="page-navigation">
                <a href="#page7" class="btn btn-outline-primary"><i class="bi bi-arrow-left"></i> Anterior</a>
                <a href="#page9" class="btn btn-primary">Pr√≥ximo <i class="bi bi-arrow-right"></i></a>
            </div>
        </div>

        <div class="ebook-page" id="page9">
            <h1>Diagrama do Projeto Fict√≠cio</h1>
            <div class="img-placeholder-10">
                <img src="../../assets/img/estruturais/adapter/ficticio.png" alt="Avril Lavigne Adapter UML"
                    class="cover-image">
            </div>
            <p>Este diagrama UML detalha a aplica√ß√£o do Padr√£o Adapter no nosso exemplo da evolu√ß√£o musical de Avril Lavigne:</p>
            <pre class="uml-code">
@startuml
interface MusicaStreaming {
    + getTitulo(): string
    + getArtista(): string
    + reproduzirStreaming(): void
    + promoverInstagram(): void
    + getDuracao(): number
    + getAnoLancamento(): number
    + getGenero(): string
}

class MusicaEra2002 {
    - titulo: string
    - artista: string
    - duracao: number
    - genero: string
    - letra: string
    + tocarNoCD(): void
    + promoverNaMTV(): void
    + comprarCD(): string
    + getTituloOriginal(): string
    + getArtistaOriginal(): string
    + getDuracaoOriginal(): number
    + getGeneroOriginal(): string
    + getLetra(): string
}

class MusicaEra2007 {
    - titulo: string
    - artista: string
    - duracao: number
    - genero: string
    - bpm: number
    + tocarNoMP3(): void
    + promoverNoMyspace(): void
    + comprarITunes(): string
    + getTituloOriginal(): string
    + getArtistaOriginal(): string
    + getDuracaoOriginal(): number
    + getGeneroOriginal(): string
    + getBPM(): number
}

class MusicaEra2013 {
    - titulo: string
    - artista: string
    - duracao: number
    - genero: string
    - colaboracoes: string[]
    + tocarNoYouTube(): void
    + promoverNoTwitter(): void
    + getTituloOriginal(): string
    + getArtistaOriginal(): string
    + getDuracaoOriginal(): number
    + getGeneroOriginal(): string
    + getColaboracoes(): string[]
}

class AdapterEra2002 {
    - musicaEra2002: MusicaEra2002
    + getTitulo(): string
    + getArtista(): string
    + reproduzirStreaming(): void
    + promoverInstagram(): void
    + getDuracao(): number
    + getAnoLancamento(): number
    + getGenero(): string
    + getLetraOriginal(): string
}

class AdapterEra2007 {
    - musicaEra2007: MusicaEra2007
    + getTitulo(): string
    + getArtista(): string
    + reproduzirStreaming(): void
    + promoverInstagram(): void
    + getDuracao(): number
    + getAnoLancamento(): number
    + getGenero(): string
    + getBPMOriginal(): number
}

class AdapterEra2013 {
    - musicaEra2013: MusicaEra2013
    + getTitulo(): string
    + getArtista(): string
    + reproduzirStreaming(): void
    + promoverInstagram(): void
    + getDuracao(): number
    + getAnoLancamento(): number
    + getGenero(): string
    + getColaboracoesOriginais(): string[]
}

class SpotifyModerno {
    - playlist: MusicaStreaming[]
    + adicionarMusica(musica: MusicaStreaming): void
    + reproduzirPlaylist(): void
    + promoverPlaylist(): void
}

MusicaStreaming <|.. AdapterEra2002
MusicaStreaming <|.. AdapterEra2007
MusicaStreaming <|.. AdapterEra2013

AdapterEra2002 --> MusicaEra2002
AdapterEra2007 --> MusicaEra2007
AdapterEra2013 --> MusicaEra2013

SpotifyModerno --> MusicaStreaming

note right of MusicaEra2002
    Adaptee - Interface legada
    da era 2002 com m√©todos
    espec√≠ficos da √©poca
end note

note right of AdapterEra2002
    Adapter - Traduz a interface
    legada para a interface
    moderna de streaming
end note

note right of SpotifyModerno
    Client - Usa apenas a interface
    Target (MusicaStreaming) sem
    conhecer as implementa√ß√µes
end note
@enduml
            </pre>
            <p>O diagrama mostra como diferentes eras musicais s√£o adaptadas para uma interface moderna uniforme.</p>

            <div class="page-navigation">
                <a href="#page8" class="btn btn-outline-primary"><i class="bi bi-arrow-left"></i> Anterior</a>
                <a href="#page10" class="btn btn-primary">Pr√≥ximo <i class="bi bi-arrow-right"></i></a>
            </div>
        </div>

        <div class="ebook-page" id="page10">
            <h1>Diagrama do Projeto Pr√°tico</h1>
            <div class="img-placeholder-11">
                <img src="../../assets/img/estruturais/adapter/pratico.png" alt="Payment System Adapter UML"
                    class="cover-image">
            </div>
            <p>Este diagrama UML mostra a aplica√ß√£o do Padr√£o Adapter no exemplo pr√°tico do sistema de pagamentos:</p>
            <pre class="uml-code">
@startuml
interface ProcessadorPagamentoModerno {
    + processar_pagamento(valor: float, moeda: str, descricao: str): Dict[str, Any]
    + estornar_pagamento(id_transacao: str): bool
    + obter_status(id_transacao: str): Dict[str, Any]
}

class SistemaPagamentoLegado {
    + autorizar_cartao(numero_cartao: str, valor: float, data_validade: str, cvv: str): Dict[str, Any]
    + capturar_valor(transacao_id: str, valor: float): Dict[str, Any]
    + estornar_transacao(transacao_id: str, motivo: str): Dict[str, Any]
    + consultar_transacao(transacao_id: str): Dict[str, Any]
}

class GatewayPagamentoExterno {
    + criar_pagamento(amount: float, currency: str, description: str, payment_method: str): Dict[str, Any]
    + executar_pagamento(payment_id: str, payer_id: str): Dict[str, Any]
    + reembolsar_pagamento(payment_id: str, amount: float): Dict[str, Any]
    + obter_detalhes_pagamento(payment_id: str): Dict[str, Any]
}

class AdapterSistemaLegado {
    - sistema_legado: SistemaPagamentoLegado
    - mapa_transacoes: Dict[str, str]
    + processar_pagamento(valor: float, moeda: str, descricao: str): Dict[str, Any]
    + estornar_pagamento(id_transacao: str): bool
    + obter_status(id_transacao: str): Dict[str, Any]
    - _adaptar_status(status_legado: str): str
}

class AdapterGatewayExterno {
    - gateway_externo: GatewayPagamentoExterno
    - mapa_pagamentos: Dict[str, str]
    + processar_pagamento(valor: float, moeda: str, descricao: str): Dict[str, Any]
    + estornar_pagamento(id_transacao: str): bool
    + obter_status(id_transacao: str): Dict[str, Any]
    - _adaptar_status(status_gateway: str): str
}

class EcommerceModerno {
    - processadores: Dict[str, ProcessadorPagamentoModerno]
    + registrar_processadores(): void
    + processar_pedido(pedido: Dict[str, Any], gateway: str): Dict[str, Any]
    + estornar_pedido(id_transacao: str, gateway: str): Dict[str, Any]
    + consultar_status(id_transacao: str, gateway: str): Dict[str, Any]
}

ProcessadorPagamentoModerno <|.. AdapterSistemaLegado
ProcessadorPagamentoModerno <|.. AdapterGatewayExterno

AdapterSistemaLegado --> SistemaPagamentoLegado
AdapterGatewayExterno --> GatewayPagamentoExterno

EcommerceModerno --> ProcessadorPagamentoModerno

note right of SistemaPagamentoLegado
    Adaptee - Sistema legado com
    interface incompat√≠vel e
    m√©todos espec√≠ficos
end note

note right of AdapterSistemaLegado
    Adapter - Traduz interface
    legada para interface moderna
    de processamento de pagamentos
end note

note right of EcommerceModerno
    Client - Usa apenas a interface
    Target sem conhecer os sistemas
    legados ou gateways externos
end note
@enduml
            </pre>
            <p>Esta estrutura permite integrar diferentes sistemas de pagamento atrav√©s de uma interface uniforme.</p>

            <div class="page-navigation">
                <a href="#page9" class="btn btn-outline-primary"><i class="bi bi-arrow-left"></i> Anterior</a>
                <a href="#page11" class="btn btn-primary">Pr√≥ximo <i class="bi bi-arrow-right"></i></a>
            </div>
        </div>

        <div class="ebook-page" id="page11">
            <h1>Vantagens</h1>
            <div class="img-placeholder-12">
                <img src="https://i.pinimg.com/736x/17/ef/31/17ef310ef8e9a1444ab622eecc7e1062.jpg"
                    alt="Advantages" class="cover-image">
            </div>
            <p>O Padr√£o Adapter oferece v√°rias vantagens significativas:</p>
            <ul>
                <li><strong>Reutiliza√ß√£o de C√≥digo:</strong> Permite usar classes existentes com interfaces incompat√≠veis</li>
                <li><strong>Flexibilidade:</strong> Facilita a integra√ß√£o de novos componentes sem modificar c√≥digo existente</li>
                <li><strong>Princ√≠pio Aberto/Fechado:</strong> Pode adicionar novos adapters sem alterar o cliente</li>
                <li><strong>Desacoplamento:</strong> Separa o cliente das implementa√ß√µes espec√≠ficas dos adaptees</li>
                <li><strong>Manutenibilidade:</strong> Facilita a manuten√ß√£o de sistemas legados</li>
                <li><strong>Testabilidade:</strong> Permite testar componentes isoladamente atrav√©s de interfaces mock</li>
                <li><strong>Interoperabilidade:</strong> Conecta sistemas desenvolvidos independentemente</li>
            </ul>

            <div class="page-navigation">
                <a href="#page10" class="btn btn-outline-primary"><i class="bi bi-arrow-left"></i> Anterior</a>
                <a href="#page12" class="btn btn-primary">Pr√≥ximo <i class="bi bi-arrow-right"></i></a>
            </div>
        </div>

        <div class="ebook-page" id="page12">
            <h1>Desvantagens</h1>
            <div class="img-placeholder-13">
                <img src="https://i.ytimg.com/vi/ExQb4yMFmYc/maxresdefault.jpg"
                    alt="Disadvantages" class="cover-image">
            </div>
            <p>O Padr√£o Adapter tamb√©m apresenta algumas desvantagens:</p>
            <ul>
                <li><strong>Complexidade:</strong> Introduz classes adicionais na arquitetura</li>
                <li><strong>Overhead:</strong> Pode adicionar lat√™ncia devido √†s convers√µes</li>
                <li><strong>Limita√ß√µes:</strong> Nem sempre √© poss√≠vel adaptar interfaces radicalmente diferentes</li>
                <li><strong>Manuten√ß√£o:</strong> Requer manuten√ß√£o de mapeamentos e convers√µes</li>
                <li><strong>Performance:</strong> Convers√µes podem impactar performance em sistemas de alta carga</li>
                <li><strong>Debug:</strong> Pode dificultar o rastreamento de problemas atrav√©s das camadas</li>
                <li><strong>Over-engineering:</strong> Pode ser desnecess√°rio para integra√ß√µes simples</li>
            </ul>

            <div class="page-navigation">
                <a href="#page11" class="btn btn-outline-primary"><i class="bi bi-arrow-left"></i> Anterior</a>
                <a href="#page13" class="btn btn-primary">Pr√≥ximo <i class="bi bi-arrow-right"></i></a>
            </div>
        </div>

        <div class="ebook-page" id="page13">
            <h1>Conclus√£o</h1>
            <div class="img-placeholder-14">
                <img src="https://cdn.meadd.com/photos/full/70566635.jpg"
                    alt="Conclusion" class="cover-image">
            </div>
            <p>O Padr√£o Adapter √© uma solu√ß√£o elegante para integrar sistemas com interfaces incompat√≠veis, permitindo que componentes desenvolvidos independentemente trabalhem juntos atrav√©s de uma interface comum.</p>
            <p>Na nossa analogia de Avril Lavigne, o Adapter funciona como a <strong>evolu√ß√£o e adapta√ß√£o musical</strong> - permitindo que m√∫sicas de diferentes eras (2002, 2007, 2013) sejam apresentadas de forma coesa nas plataformas modernas, mantendo a ess√™ncia original enquanto se conectam com o p√∫blico contempor√¢neo.</p>
            <p>Assim como Avril Lavigne adaptou seu estilo ao longo dos anos sem perder sua identidade art√≠stica, o padr√£o Adapter nos permite integrar sistemas legados e modernos, criando pontes entre tecnologias diferentes enquanto preserva o investimento em c√≥digo existente e permite a evolu√ß√£o cont√≠nua dos sistemas.</p>

            <div class="page-navigation">
                <a href="#page12" class="btn btn-outline-primary"><i class="bi bi-arrow-left"></i> Anterior</a>
                <a href="#page14" class="btn btn-primary">Pr√≥ximo <i class="bi bi-arrow-right"></i></a>
            </div>
        </div>

        <div class="ebook-page" id="page14">
            <h1>Fontes Bibliogr√°ficas</h1>
            <p>As informa√ß√µes contidas neste e-book foram compiladas a partir das seguintes fontes:</p>
            <ul class="reference-list">
                <li>[1] <a href="https://refactoring.guru/pt-br/design-patterns/adapter"
                        target="_blank">Refactoring.Guru - Padr√£o de Projeto Adapter</a></li>
                <li>[2] <a href="https://www.devmedia.com.br/padrao-de-projeto-adapter/16766"
                        target="_blank">DevMedia - Padr√£o de Projeto Adapter</a></li>
                <li>[3] <a href="https://brizeno.wordpress.com/2011/11/25/mao-na-massa-adapter/"
                        target="_blank">M√£o na Massa - Padr√£o Adapter</a></li>
                <li>[4] <a href="https://pt.wikipedia.org/wiki/Adapter" target="_blank">Wikip√©dia - Adapter (padr√£o de projeto)</a></li>
                <li>[5] <a href="https://www.geeksforgeeks.org/adapter-pattern/" target="_blank">GeeksforGeeks
                        - Adapter Pattern</a></li>
                <li>[6] <a href="https://sourcemaking.com/design_patterns/adapter" target="_blank">SourceMaking
                        - Adapter Pattern</a></li>
            </ul>
            <p><i>Nota: As refer√™ncias foram adaptadas para o contexto deste e-book.</i></p>

            <div class="page-navigation">
                <a href="#page13" class="btn btn-outline-primary"><i class="bi bi-arrow-left"></i> Anterior</a>
                <a href="#cover" class="btn btn-primary"><i class="bi bi-house"></i> In√≠cio</a>
            </div>
        </div>
    </div>

    <!-- Bot√£o de voltar ao topo -->
    <a href="#" class="back-to-top" id="backToTop">
        <i class="bi bi-arrow-up"></i>
    </a>

    <script>
        // Script para controle do sidebar no mobile
        document.addEventListener('DOMContentLoaded', function () {
            const sidebarToggle = document.getElementById('sidebarToggle');
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('overlay');
            const sidebarLinks = document.querySelectorAll('.sidebar-list a');

            // Fun√ß√£o para abrir o sidebar
            function openSidebar() {
                sidebar.classList.add('show');
                overlay.classList.add('show');
                document.body.style.overflow = 'hidden';
            }

            // Fun√ß√£o para fechar o sidebar
            function closeSidebar() {
                sidebar.classList.remove('show');
                overlay.classList.remove('show');
                document.body.style.overflow = '';
            }

            // Abrir sidebar ao clicar no bot√£o hamburguer
            sidebarToggle.addEventListener('click', function (e) {
                e.stopPropagation();
                openSidebar();
            });

            // Fechar sidebar ao clicar no overlay
            overlay.addEventListener('click', function () {
                closeSidebar();
            });

            // Fechar sidebar ao clicar em um link (mobile)
            sidebarLinks.forEach(link => {
                link.addEventListener('click', function () {
                    if (window.innerWidth <= 991) {
                        closeSidebar();
                    }
                });
            });

            // Fechar sidebar ao pressionar a tecla ESC
            document.addEventListener('keydown', function (e) {
                if (e.key === 'Escape') {
                    closeSidebar();
                }
            });

            // Fechar sidebar ao redimensionar a janela para desktop
            window.addEventListener('resize', function () {
                if (window.innerWidth > 991) {
                    closeSidebar();
                }
            });
        });
    </script>
    <!-- Bootstrap JS e Popper.js -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>

</body>

</html>